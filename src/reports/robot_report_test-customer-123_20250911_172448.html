<!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Robot Performance Report - 2025-08-20 to 2025-09-09</title>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
                <style>
                    body {
                        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                        line-height: 1.6;
                        margin: 0;
                        padding: 20px;
                        background-color: #f8f9fa;
                    }
                    .chart-toggle-container {
                        text-align: center;
                        margin-bottom: 15px;
                    }

                    .chart-toggle-btn {
                        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                        color: white;
                        border: none;
                        padding: 8px 16px;
                        border-radius: 5px;
                        cursor: pointer;
                        font-size: 0.9em;
                        transition: opacity 0.3s ease;
                    }

                    .chart-toggle-btn:hover {
                        opacity: 0.8;
                    }

                    .chart-toggle-btn.active {
                        background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
                    }

                    .container {
                        max-width: 1200px;
                        margin: 0 auto;
                        background: white;
                        padding: 30px;
                        border-radius: 10px;
                        box-shadow: 0 0 20px rgba(0,0,0,0.1);
                    }

                    h1 {
                        color: #2c3e50;
                        text-align: center;
                        margin-bottom: 10px;
                        font-size: 2.5em;
                    }

                    .subtitle {
                        text-align: center;
                        color: #7f8c8d;
                        font-size: 1.2em;
                        margin-bottom: 30px;
                    }

                    h2 {
                        color: #34495e;
                        border-bottom: 3px solid #3498db;
                        padding-bottom: 10px;
                        margin-top: 40px;
                    }

                    h3 {
                        color: #2980b9;
                        margin-top: 30px;
                    }

                    .highlight-box {
                        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                        color: white;
                        padding: 20px;
                        border-radius: 10px;
                        margin: 20px 0;
                    }

                    .metrics-grid {
                        display: grid;
                        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                        gap: 20px;
                        margin: 20px 0;
                    }

                    .metric-card {
                        background: #f8f9fa;
                        border: 1px solid #e9ecef;
                        border-radius: 8px;
                        padding: 20px;
                        text-align: center;
                        transition: transform 0.3s ease;
                    }

                    .metric-card:hover {
                        transform: translateY(-5px);
                        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
                    }

                    .metric-value {
                        font-size: 2em;
                        font-weight: bold;
                        color: #2c3e50;
                    }

                    .metric-label {
                        color: #7f8c8d;
                        font-size: 0.9em;
                        margin-top: 5px;
                    }

                    .chart-container {
                        position: relative;
                        height: 400px;
                        margin: 30px 0;
                        background: white;
                        border-radius: 8px;
                        padding: 20px;
                        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                    }

                    .chart-row {
                        display: grid;
                        grid-template-columns: 1fr 1fr;
                        gap: 30px;
                        margin: 30px 0;
                    }

                    .chart-small {
                        position: relative;
                        height: 300px;
                    }

                    table {
                        width: 100%;
                        border-collapse: collapse;
                        margin: 20px 0;
                        background: white;
                        border-radius: 8px;
                        overflow: hidden;
                        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                    }

                    th, td {
                        padding: 12px;
                        text-align: left;
                        border-bottom: 1px solid #e9ecef;
                    }

                    th {
                        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                        color: white;
                        font-weight: 600;
                    }

                    tr:hover {
                        background: #f8f9fa;
                    }

                    .progress-container {
                        display: flex;
                        align-items: center;
                        gap: 10px;
                        margin: 10px 0;
                    }

                    .progress-bar {
                        width: 60%;
                        height: 15px;
                        background: #e9ecef;
                        border-radius: 8px;
                        overflow: hidden;
                        margin: 3px 0;
                        display: inline-block;
                    }

                    .progress-fill {
                        height: 100%;
                        background: linear-gradient(90deg, #28a745, #20c997);
                        transition: width 0.3s ease;
                    }

                    .progress-text {
                        display: inline-block;
                        margin-left: 10px;
                        font-weight: bold;
                        color: #2c3e50;
                    }

                    .status-indicator {
                        display: inline-flex;
                        align-items: center;
                        gap: 5px;
                    }

                    .status-dot {
                        width: 10px;
                        height: 10px;
                        border-radius: 50%;
                    }

                    .status-excellent { background: #28a745; }
                    .status-good { background: #17a2b8; }
                    .status-warning { background: #ffc107; }
                    .status-error { background: #dc3545; }

                    .two-column {
                        display: grid;
                        grid-template-columns: 1fr 1fr;
                        gap: 30px;
                        margin: 20px 0;
                    }

                    .tooltip {
                        position: relative;
                        display: inline-block;
                        cursor: help;
                        color: #3498db;
                        text-decoration: underline dotted;
                    }

                    .tooltip .tooltiptext {
                        visibility: hidden;
                        width: 300px;
                        background-color: #555;
                        color: #fff;
                        text-align: left;
                        border-radius: 6px;
                        padding: 10px;
                        position: absolute;
                        z-index: 1;
                        bottom: 125%;
                        left: 50%;
                        margin-left: -150px;
                        opacity: 0;
                        transition: opacity 0.3s;
                        font-size: 0.9em;
                    }

                    .tooltip:hover .tooltiptext {
                        visibility: visible;
                        opacity: 1;
                    }

                    .map-section {
                        margin: 30px 0;
                        padding: 20px;
                        background: #f8f9fa;
                        border-radius: 8px;
                    }

                    .building-maps {
                        margin: 15px 0;
                    }

                    .map-metrics {
                        display: grid;
                        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                        gap: 15px;
                        margin: 10px 0;
                    }

                    .map-metric {
                        background: white;
                        padding: 10px;
                        border-radius: 5px;
                        text-align: center;
                        border: 1px solid #dee2e6;
                    }

                    @media (max-width: 768px) {
                        .chart-row, .two-column {
                            grid-template-columns: 1fr;
                        }

                        .container {
                            padding: 15px;
                        }

                        .progress-bar {
                            width: 40%;
                        }
                    }
                </style>
            </head>
            <body>
                <div class="container">
                    <h1>Robot Performance Report</h1>
                    <p class="subtitle">2025-08-20 to 2025-09-09</p>
                    
        <section id="executive-summary">
            <h2>📊 Executive Summary</h2>
            <div class="highlight-box">
                <p>Robot deployment during 2025-08-20 to 2025-09-09 processed 112.0 total tasks,
                covering 543,935.0 square feet with
                92.1 total running hours.</p>
            </div>

            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-value tooltip">1,699.8
                        <span class="tooltiptext">Total savings compared to manual cleaning based on robot running hours. Calculated using robot operational hours and standard labor cost.</span>
                    </div>
                    <div class="metric-label">Total Savings</div>
                    <div style="font-size: 0.8em; margin-top: 5px; color: #28a745;">
                        vs last period: +1195.2
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-value tooltip">34.4 kWh
                        <span class="tooltiptext">Total energy consumption calculated from task data consumption field during the reporting period.</span>
                    </div>
                    <div class="metric-label">Energy Used</div>
                    <div style="font-size: 0.8em; margin-top: 5px; color: #28a745;">
                        vs last period: +23.6 kWh
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-value tooltip">83.4%
                        <span class="tooltiptext">Coverage efficiency calculated as (actual area cleaned / planned area) × 100 from task performance data.</span>
                    </div>
                    <div class="metric-label">Coverage</div>
                    <div style="font-size: 0.8em; margin-top: 5px; color: #28a745;">
                        vs last period: +27.1%
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-value tooltip">92.1
                        <span class="tooltiptext">Total running hours from all robots during the reporting period, calculated from task duration data.</span>
                    </div>
                    <div class="metric-label">Total Running Hours</div>
                    <div style="font-size: 0.8em; margin-top: 5px; color: #28a745;">
                        vs last period: +63.0 hrs
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-value tooltip">543,935.0
                        <span class="tooltiptext">Total area cleaned in square feet, converted from actual_area field in task data (originally in square meters).</span>
                    </div>
                    <div class="metric-label">Sq Ft Cleaned</div>
                    <div style="font-size: 0.8em; margin-top: 5px; color: #28a745;">
                        vs last period: +35530.0 sq ft
                    </div>
                </div>
            </div>

            <h3>🎯 Key Achievements</h3>
            <ul style="font-size: 1.1em; color: #2c3e50;">
                <li>112.0 total tasks processed during reporting period</li>
                <li>543,935.0 square feet cleaned across all locations</li>
                <li>2.0 robots actively deployed and monitored</li>
                <li>121.0 charging sessions during the period</li>
            </ul>
        </section>
        <section id="fleet-management">
            <h2>🤖 Individual Robot Performance</h2>

            <h3>System Performance Overview</h3>
            <p>Fleet includes 2 robots, accumulating 92.1 total running hours over 20 days with tasks.</p>

            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-value">2</div>
                    <div class="metric-label">Total Robots</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value tooltip">92.1
                        <span class="tooltiptext">Total running hours calculated from task duration data (converted from seconds to hours) across all robots during the reporting period.</span>
                    </div>
                    <div class="metric-label">Total Running Hours</div>
                    <div style="font-size: 0.8em; margin-top: 5px; color: #28a745;">
                        vs last period: +63.0 hrs
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-value tooltip">2.7
                        <span class="tooltiptext">Average daily running hours per robot calculated as the average of daily running hours of each robot on days when the robot had at least 1 task.</span>
                    </div>
                    <div class="metric-label">Avg Daily Running Hours per Robot (hrs/robot)</div>
                    <div style="font-size: 0.8em; margin-top: 5px; color: #dc3545;">
                        vs last period: -0.2 hrs/robot
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-value tooltip">20
                        <span class="tooltiptext">The actual number of days when any of the robots had at least 1 task during the reporting period.</span>
                    </div>
                    <div class="metric-label">Days with Tasks</div>
                    <div style="font-size: 0.8em; margin-top: 5px; color: #28a745;">
                        vs last period: +15.0 days
                    </div>
                </div>
            </div>

            <h3>Individual Robot Performance</h3>
            <table>
                <thead>
                    <tr>
                        <th>Robot ID</th>
                        <th>Location</th>
                        <th>Total Tasks</th>
                        <th>Tasks Completed</th>
                        <th>Total Area Cleaned</th>
                        <th>Average Coverage</th>
                        <th>Days with Tasks</th>
                        <th>Running Hours</th>
                    </tr>
                </thead>
                <tbody>
                    
                <tr>
                    <td>811135422060228</td>
                    <td>Building 43 Marston Science Library</td>
                    <td>45</td>
                    <td>30</td>
                    <td>292,495 sq ft</td>
                    <td>80.6%</td>
                    <td>20</td>
                    <td>51.8 hrs</td>
                </tr>
                <tr>
                    <td>811135422060216</td>
                    <td>Building 205 Dental Science</td>
                    <td>67</td>
                    <td>52</td>
                    <td>251,441 sq ft</td>
                    <td>87.0%</td>
                    <td>14</td>
                    <td>40.2 hrs</td>
                </tr>
                </tbody>
            </table>
        </section>
        <section id="facility-performance">
            <h2>🏢 Facility-Specific Performance</h2>

            <div class="two-column">
                
            <div>
                <h3>Building 205 Dental Science</h3>
                <p>Performance metrics for Building 205 Dental Science: 67 total tasks, 251,441 sq ft total area cleaned, 87.0% average coverage, 1.0 sq ft/fl oz water efficiency, and 6248.4 sq ft/hour time efficiency.</p>

                <table>
                    <thead>
                        <tr>
                            <th>Metric</th>
                            <th>Performance</th>
                            <th>vs Last Period</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Total Area Cleaned</td>
                            <td>251,441 sq ft</td>
                            <td style="color: #28a745;">+171323.0 sq ft</td>
                        </tr>
                        <tr>
                            <td>Average Coverage</td>
                            <td>87.0%</td>
                            <td style="color: #28a745;">+33.3%</td>
                        </tr>
                        <tr>
                            <td>Running Hours</td>
                            <td>40.2 hours</td>
                            <td style="color: #28a745;">+27.7 hrs</td>
                        </tr>
                        <tr>
                            <td>Power Efficiency</td>
                            <td>18,076 sq ft/kWh</td>
                            <td style="color: #28a745;">+772.0 sq ft/kWh</td>
                        </tr>
                        <tr>
                            <td>Water Efficiency</td>
                            <td>1.0 sq ft/fl oz</td>
                            <td style="color: #dc3545;">-0.2 sq ft/fl oz</td>
                        </tr>
                        <tr>
                            <td>Time Efficiency</td>
                            <td>6248.4 sq ft/hr</td>
                            <td style="color: #dc3545;">-139.9 sq ft/hr</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div>
                <h3>Building 43 Marston Science Library</h3>
                <p>Performance metrics for Building 43 Marston Science Library: 45 total tasks, 292,495 sq ft total area cleaned, 80.6% average coverage, 0.0 sq ft/fl oz water efficiency, and 5642.0 sq ft/hour time efficiency.</p>

                <table>
                    <thead>
                        <tr>
                            <th>Metric</th>
                            <th>Performance</th>
                            <th>vs Last Period</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Total Area Cleaned</td>
                            <td>292,495 sq ft</td>
                            <td style="color: #28a745;">+211124.0 sq ft</td>
                        </tr>
                        <tr>
                            <td>Average Coverage</td>
                            <td>80.6%</td>
                            <td style="color: #28a745;">+21.4%</td>
                        </tr>
                        <tr>
                            <td>Running Hours</td>
                            <td>51.8 hours</td>
                            <td style="color: #28a745;">+35.2 hrs</td>
                        </tr>
                        <tr>
                            <td>Power Efficiency</td>
                            <td>14,303 sq ft/kWh</td>
                            <td style="color: #28a745;">+1050.0 sq ft/kWh</td>
                        </tr>
                        <tr>
                            <td>Water Efficiency</td>
                            <td>0.0 sq ft/fl oz</td>
                            <td style="color: #6c757d;">0 sq ft/fl oz</td>
                        </tr>
                        <tr>
                            <td>Time Efficiency</td>
                            <td>5642.0 sq ft/hr</td>
                            <td style="color: #28a745;">+736.8 sq ft/hr</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            </div>

            
            <h3>Map-Specific Performance</h3>
            <div class="tooltip" style="margin-bottom: 15px;">
                <span style="color: #3498db; text-decoration: underline dotted;">How these figures are calculated</span>
                <span class="tooltiptext">Coverage: (actual area / planned area) × 100. Area Cleaned: sum of actual_area converted to sq ft. Running Hours: sum of task durations converted from seconds. Power Efficiency: area cleaned / energy consumption. Time Efficiency: area cleaned / running hours. Water Efficiency: area cleaned / water consumption. Days with Tasks: unique dates when tasks occurred.</span>
            </div>
                    <div class="map-section">
                        <h4>Building 205 Dental Science Maps</h4>
                        <div class="building-maps">
                        <div style="margin: 15px 0; border: 1px solid #dee2e6; border-radius: 5px; padding: 15px;">
                            <h5>2#0#Bld205-Floor2</h5>
                            <div class="progress-container">
                                <span>Coverage:</span>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 98.7%"></div>
                                </div>
                                <span class="progress-text">98.7%</span>
                                <span style="color: #28a745; font-size: 0.8em; margin-left: 10px;">
                                    vs last: +98.7%
                                </span>
                            </div>
                            <div class="map-metrics">
                                <div class="map-metric">
                                    <div style="font-weight: bold;">15,978</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Area Cleaned (sq ft)</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +15978.0 sq ft
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">2.3</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Running Hours</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +2.3 hrs
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">19972</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Power Efficiency (sq ft/kWh)</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +19972.5 sq ft/kWh
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">6871</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Time Efficiency (sq ft/hr)</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +6870.6 sq ft/hr
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">1.6</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Water Efficiency (sq ft/fl oz)</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +1.6 sq ft/fl oz
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">4</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Days with Tasks</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +3.0 days
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="margin: 15px 0; border: 1px solid #dee2e6; border-radius: 5px; padding: 15px;">
                            <h5>-1#0#Bld_205_Dental_Sci_Grd</h5>
                            <div class="progress-container">
                                <span>Coverage:</span>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 94.4%"></div>
                                </div>
                                <span class="progress-text">94.4%</span>
                                <span style="color: #28a745; font-size: 0.8em; margin-left: 10px;">
                                    vs last: +19.1%
                                </span>
                            </div>
                            <div class="map-metrics">
                                <div class="map-metric">
                                    <div style="font-weight: bold;">122,999</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Area Cleaned (sq ft)</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +76220.0 sq ft
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">17.6</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Running Hours</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +10.7 hrs
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">16942</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Power Efficiency (sq ft/kWh)</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +866.9 sq ft/kWh
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">6984</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Time Efficiency (sq ft/hr)</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +160.4 sq ft/hr
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">1.1</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Water Efficiency (sq ft/fl oz)</div>
                                    <div style="font-size: 0.7em; color: #dc3545;">
                                        vs last: -0.1 sq ft/fl oz
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">14</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Days with Tasks</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +9.0 days
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="margin: 15px 0; border: 1px solid #dee2e6; border-radius: 5px; padding: 15px;">
                            <h5>1#1#dental_ground_elevator</h5>
                            <div class="progress-container">
                                <span>Coverage:</span>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 82.2%"></div>
                                </div>
                                <span class="progress-text">82.2%</span>
                                <span style="color: #28a745; font-size: 0.8em; margin-left: 10px;">
                                    vs last: +5.7%
                                </span>
                            </div>
                            <div class="map-metrics">
                                <div class="map-metric">
                                    <div style="font-weight: bold;">16,289</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Area Cleaned (sq ft)</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +12919.0 sq ft
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">4.1</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Running Hours</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +3.3 hrs
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">10577</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Power Efficiency (sq ft/kWh)</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +665.0 sq ft/kWh
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">3955</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Time Efficiency (sq ft/hr)</div>
                                    <div style="font-size: 0.7em; color: #dc3545;">
                                        vs last: -25.8 sq ft/hr
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">0.7</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Water Efficiency (sq ft/fl oz)</div>
                                    <div style="font-size: 0.7em; color: #dc3545;">
                                        vs last: -0.3 sq ft/fl oz
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">13</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Days with Tasks</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +10.0 days
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="margin: 15px 0; border: 1px solid #dee2e6; border-radius: 5px; padding: 15px;">
                            <h5>1#0#Bld_205_Dental_Sci_1fl</h5>
                            <div class="progress-container">
                                <span>Coverage:</span>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 78.4%"></div>
                                </div>
                                <span class="progress-text">78.4%</span>
                                <span style="color: #28a745; font-size: 0.8em; margin-left: 10px;">
                                    vs last: +40.1%
                                </span>
                            </div>
                            <div class="map-metrics">
                                <div class="map-metric">
                                    <div style="font-weight: bold;">96,175</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Area Cleaned (sq ft)</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +67019.0 sq ft
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">16.2</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Running Hours</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +11.6 hrs
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">22314</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Power Efficiency (sq ft/kWh)</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +57.7 sq ft/kWh
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">5943</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Time Efficiency (sq ft/hr)</div>
                                    <div style="font-size: 0.7em; color: #dc3545;">
                                        vs last: -371.3 sq ft/hr
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">0.9</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Water Efficiency (sq ft/fl oz)</div>
                                    <div style="font-size: 0.7em; color: #dc3545;">
                                        vs last: -0.4 sq ft/fl oz
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">11</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Days with Tasks</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +7.0 days
                                    </div>
                                </div>
                            </div>
                        </div>
                        </div>
                    </div>
                    <div class="map-section">
                        <h4>Building 43 Marston Science Library Maps</h4>
                        <div class="building-maps">
                        <div style="margin: 15px 0; border: 1px solid #dee2e6; border-radius: 5px; padding: 15px;">
                            <h5>1#1#43_Main_areaMarston_Library_F1</h5>
                            <div class="progress-container">
                                <span>Coverage:</span>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 87.5%"></div>
                                </div>
                                <span class="progress-text">87.5%</span>
                                <span style="color: #6c757d; font-size: 0.8em; margin-left: 10px;">
                                    vs last: N/A
                                </span>
                            </div>
                            <div class="map-metrics">
                                <div class="map-metric">
                                    <div style="font-weight: bold;">50,164</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Area Cleaned (sq ft)</div>
                                    <div style="font-size: 0.7em; color: #6c757d;">
                                        vs last: N/A
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">8.3</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Running Hours</div>
                                    <div style="font-size: 0.7em; color: #6c757d;">
                                        vs last: N/A
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">13857</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Power Efficiency (sq ft/kWh)</div>
                                    <div style="font-size: 0.7em; color: #6c757d;">
                                        vs last: N/A
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">6042</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Time Efficiency (sq ft/hr)</div>
                                    <div style="font-size: 0.7em; color: #6c757d;">
                                        vs last: N/A
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">0.0</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Water Efficiency (sq ft/fl oz)</div>
                                    <div style="font-size: 0.7em; color: #6c757d;">
                                        vs last: N/A
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">8</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Days with Tasks</div>
                                    <div style="font-size: 0.7em; color: #6c757d;">
                                        vs last: N/A
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="margin: 15px 0; border: 1px solid #dee2e6; border-radius: 5px; padding: 15px;">
                            <h5>2#0#43_Marston_library_2nd</h5>
                            <div class="progress-container">
                                <span>Coverage:</span>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 84.8%"></div>
                                </div>
                                <span class="progress-text">84.8%</span>
                                <span style="color: #dc3545; font-size: 0.8em; margin-left: 10px;">
                                    vs last: -15.2%
                                </span>
                            </div>
                            <div class="map-metrics">
                                <div class="map-metric">
                                    <div style="font-weight: bold;">127,389</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Area Cleaned (sq ft)</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +112367.0 sq ft
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">22.9</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Running Hours</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +20.2 hrs
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">14969</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Power Efficiency (sq ft/kWh)</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +241.6 sq ft/kWh
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">5573</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Time Efficiency (sq ft/hr)</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +108.9 sq ft/hr
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">0.0</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Water Efficiency (sq ft/fl oz)</div>
                                    <div style="font-size: 0.7em; color: #6c757d;">
                                        vs last: 0 sq ft/fl oz
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">17</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Days with Tasks</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +15.0 days
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="margin: 15px 0; border: 1px solid #dee2e6; border-radius: 5px; padding: 15px;">
                            <h5>5#0#Marston-5th-floor</h5>
                            <div class="progress-container">
                                <span>Coverage:</span>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 80.8%"></div>
                                </div>
                                <span class="progress-text">80.8%</span>
                                <span style="color: #6c757d; font-size: 0.8em; margin-left: 10px;">
                                    vs last: N/A
                                </span>
                            </div>
                            <div class="map-metrics">
                                <div class="map-metric">
                                    <div style="font-weight: bold;">31,109</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Area Cleaned (sq ft)</div>
                                    <div style="font-size: 0.7em; color: #6c757d;">
                                        vs last: N/A
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">4.9</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Running Hours</div>
                                    <div style="font-size: 0.7em; color: #6c757d;">
                                        vs last: N/A
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">15400</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Power Efficiency (sq ft/kWh)</div>
                                    <div style="font-size: 0.7em; color: #6c757d;">
                                        vs last: N/A
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">6390</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Time Efficiency (sq ft/hr)</div>
                                    <div style="font-size: 0.7em; color: #6c757d;">
                                        vs last: N/A
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">0.0</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Water Efficiency (sq ft/fl oz)</div>
                                    <div style="font-size: 0.7em; color: #6c757d;">
                                        vs last: N/A
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">5</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Days with Tasks</div>
                                    <div style="font-size: 0.7em; color: #6c757d;">
                                        vs last: N/A
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="margin: 15px 0; border: 1px solid #dee2e6; border-radius: 5px; padding: 15px;">
                            <h5>1#0#43_Marston_Library_F1</h5>
                            <div class="progress-container">
                                <span>Coverage:</span>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 71.7%"></div>
                                </div>
                                <span class="progress-text">71.7%</span>
                                <span style="color: #28a745; font-size: 0.8em; margin-left: 10px;">
                                    vs last: +17.5%
                                </span>
                            </div>
                            <div class="map-metrics">
                                <div class="map-metric">
                                    <div style="font-weight: bold;">83,834</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Area Cleaned (sq ft)</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +17485.0 sq ft
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">15.8</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Running Hours</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +2.0 hrs
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">13307</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Power Efficiency (sq ft/kWh)</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +348.2 sq ft/kWh
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">5302</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Time Efficiency (sq ft/hr)</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +507.6 sq ft/hr
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">0.0</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Water Efficiency (sq ft/fl oz)</div>
                                    <div style="font-size: 0.7em; color: #6c757d;">
                                        vs last: 0 sq ft/fl oz
                                    </div>
                                </div>
                                <div class="map-metric">
                                    <div style="font-weight: bold;">9</div>
                                    <div style="font-size: 0.8em; color: #6c757d;">Days with Tasks</div>
                                    <div style="font-size: 0.7em; color: #28a745;">
                                        vs last: +4.0 days
                                    </div>
                                </div>
                            </div>
                        </div>
                        </div>
                    </div>
        </section>
        <section id="task-performance">
            <h2>📋 Task & Schedule Performance</h2>

            <h3>Task Management Efficiency</h3>
            <p>Task tracking across all facilities: 112 total tasks with 50,533 sq ft total coverage and 53.1 minutes average task duration.</p>

            <table>
                <thead>
                    <tr>
                        <th>Metric</th>
                        <th>Total</th>
                        <th>Completed</th>
                        <th>In Progress</th>
                        <th>Average Duration</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>All Facilities</strong></td>
                        <td>112</td>
                        <td>82</td>
                        <td>0</td>
                        <td>
                            <span class="tooltip">53.1 min
                                <span class="tooltiptext">Average task duration calculated from actual task durations in the database.</span>
                            </span>
                            <span style="color: #28a745; font-size: 0.8em; margin-left: 5px;">
                                (vs last: +5.9 min)
                            </span>
                        </td>
                    </tr>
                </tbody>
            </table>

            <div class="chart-row">
                <div class="chart-small">
                    <canvas id="taskStatusChart"></canvas>
                </div>
                <div class="chart-small">
                    <canvas id="taskModeChart"></canvas>
                </div>
            </div>

            <h3>Task Efficiency Analysis</h3>
            <p>Daily task performance analysis showing running hours and coverage efficiency patterns over time.</p>

            <div class="chart-container">
                <div class="chart-toggle-container">
                    <button class="chart-toggle-btn" onclick="toggleTaskEfficiencyView()" id="taskEfficiencyToggle">
                        View Weekly Trend
                    </button>
                </div>
                <canvas id="taskEfficiencyChart"></canvas>
            </div>

            <h3>Task Performance by Location</h3>
            <div class="two-column">
                
            <div>
                <h4>Building 205 Dental Science Task Patterns</h4>
                <ul>
                    <li><strong>Task pattern:</strong> Scrubbing (67 tasks)</li>
                    <li><strong>Average Task Duration:</strong> 37.1 minutes (vs last period: <span style="color: #28a745;">+7.0 min</span>)</li>
                    <li><strong>Day with Highest Coverage:</strong> Friday (vs last period: Monday)</li>
                    <li><strong>Day with Lowest Coverage:</strong> Thursday (vs last period: Wednesday)</li>
                </ul>
            </div>
            <div>
                <h4>Building 43 Marston Science Library Task Patterns</h4>
                <ul>
                    <li><strong>Task pattern:</strong> Sweeping (45 tasks)</li>
                    <li><strong>Average Task Duration:</strong> 79.8 minutes (vs last period: <span style="color: #dc3545;">-3.1 min</span>)</li>
                    <li><strong>Day with Highest Coverage:</strong> Wednesday (vs last period: Monday)</li>
                    <li><strong>Day with Lowest Coverage:</strong> Sunday (vs last period: Wednesday)</li>
                </ul>
            </div>
            </div>
        </section>
        <section id="resource-utilization">
            <h2>⚡ Resource Utilization & Efficiency</h2>

            <div class="chart-container">
                <div class="chart-toggle-container">
                    <button class="chart-toggle-btn" onclick="toggleResourceView()" id="resourceToggle">
                        View Weekly Trend
                    </button>
                </div>
                <canvas id="resourceChart"></canvas>
            </div>

            <h3>Resource Performance</h3>
            <p>Resource utilization: 34.40 kWh total energy consumption, 246292 fl oz total water usage, 15830 sq ft per kWh energy efficiency, and 283 sq ft per gallon water efficiency.</p>

            
            <div class="two-column">
                <div>
                    <h4>Energy Usage by Facility</h4>
                    <ul><li><strong>Building 205 Dental Science:</strong> 13.9 kWh
                    <span style="color: #dc3545;">
                        (vs last: +9.3 kWh)
                    </span>
                </li><li><strong>Building 43 Marston Science Library:</strong> 20.5 kWh
                    <span style="color: #dc3545;">
                        (vs last: +14.4 kWh)
                    </span>
                </li>
                    </ul>
                </div>
                <div>
                    <h4>Water Usage by Facility</h4>
                    <ul><li><strong>Building 205 Dental Science:</strong> 246292 fl oz
                    <span style="color: #dc3545;">
                        (vs last: +178433.0 fl oz)
                    </span>
                </li><li><strong>Building 43 Marston Science Library:</strong> 0 fl oz
                    <span style="color: #6c757d;">
                        (vs last: 0 fl oz)
                    </span>
                </li>
                    </ul>
                </div>
            </div>
        </section>
        <section id="financial-performance">
            <h2>💰 Financial Performance</h2>

            <p>Financial analysis based on actual resource usage: $0.00/sq ft average cost per square foot, $0.00 total operational cost, 68.0 hours saved compared to manual cleaning, and $1,699.80 in realized savings.</p>

            <table>
                <thead>
                    <tr>
                        <th>Metric</th>
                        <th>Value</th>
                        <th>vs Previous Period</th>
                        <th>Notes</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Cost per Sq Ft</td>
                        <td>$0.00/sq ft</td>
                        <td style="color: None;">0</td>
                        <td>Water + energy cost per area cleaned</td>
                    </tr>
                    <tr>
                        <td>Total Cost</td>
                        <td>$0.00</td>
                        <td style="color: None;">0</td>
                        <td>Robot operational cost this period</td>
                    </tr>
                    <tr>
                        <td>Savings</td>
                        <td>$1,699.80</td>
                        <td style="color: #28a745;">+1195.2</td>
                        <td>Savings vs manual cleaning ($25/hr)</td>
                    </tr>
                    <tr>
                        <td>Hours Saved vs Manual</td>
                        <td>68.0 hrs</td>
                        <td style="color: #28a745;">+47.8 hrs</td>
                        <td>Time saved compared to manual cleaning</td>
                    </tr>
                    <tr>
                        <td>Annual Projected Savings</td>
                        <td>$20,397.56</td>
                        <td style="color: #28a745;">+14341.7</td>
                        <td>Projected annual savings</td>
                    </tr>
                    <tr>
                        <td>ROI Impact</td>
                        <td>N/A</td>
                        <td>N/A</td>
                        <td>Requires investment data</td>
                    </tr>
                </tbody>
            </table>

            <div class="chart-container">
                <div class="chart-toggle-container">
                    <button class="chart-toggle-btn" onclick="toggleFinancialView()" id="financialToggle">
                        View Weekly Trend
                    </button>
                </div>
                <canvas id="financialChart"></canvas>
            </div>
            <div class="highlight-box">
                <h3>💡 Financial Impact Summary</h3>
                <div class="metrics-grid">
                    <div style="text-align: center;">
                        <div style="font-size: 1.5em; margin-bottom: 5px;"><strong>$0.00</strong></div>
                        <div>Total operational cost</div>
                        <div style="color: None; font-size: 0.8em;">
                            vs last: 0
                        </div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 1.5em; margin-bottom: 5px;"><strong>$1,699.80</strong></div>
                        <div>Equivalent manual cleaning cost</div>
                        <div style="color: #dc3545; font-size: 0.8em;">
                            vs last: +1195.2
                        </div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 1.5em; margin-bottom: 5px;"><strong>$1,699.80</strong></div>
                        <div>Savings realized</div>
                        <div style="color: #28a745; font-size: 0.8em;">
                            vs last: +1195.2
                        </div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 1.5em; margin-bottom: 5px;"><strong>$20,397.56</strong></div>
                        <div>Annual projected savings</div>
                        <div style="color: #28a745; font-size: 0.8em;">
                            vs last: +14341.7
                        </div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 1.5em; margin-bottom: 5px;"><strong>68.0 hrs</strong></div>
                        <div>Hours saved vs manual</div>
                        <div style="color: #28a745; font-size: 0.8em;">
                            vs last: +47.8 hrs
                        </div>
                    </div>
                </div>
            <p style="margin-top: 15px; font-size: 0.9em; opacity: 0.8;">
                Cost calculated using $25/hr wage, 8000.0 sq ft/hr human speed
            </p>
            </div>
        </section>
        <section id="charging-performance">
            <h2>🔋 Charging Sessions Performance</h2>

            <p>Charging patterns and battery management during the reporting period: 121 total sessions, 350.7 minutes average duration, and 22.5% average power gain per session.</p>

            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-value">121</div>
                    <div class="metric-label">Total Charging Sessions</div>
                    <div style="font-size: 0.8em; margin-top: 5px; color: #28a745;">
                        vs last period: +106.0 sessions
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-value tooltip">350.7 min
                        <span class="tooltiptext">Average charging duration calculated from actual charging session data.</span>
                    </div>
                    <div class="metric-label">Avg Charging Duration</div>
                    <div style="font-size: 0.8em; margin-top: 5px; color: #28a745;">
                        vs last period: +303.5 min
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-value tooltip">141.0 min
                        <span class="tooltiptext">Median charging duration from actual charging session data - represents typical session length.</span>
                    </div>
                    <div class="metric-label">Median Charging Duration</div>
                    <div style="font-size: 0.8em; margin-top: 5px; color: #28a745;">
                        vs last period: +130.0 min
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-value tooltip">+22.5%
                        <span class="tooltiptext">Average power gain per charging session from database records.</span>
                    </div>
                    <div class="metric-label">Avg Power Gain per Session</div>
                    <div style="font-size: 0.8em; margin-top: 5px; color: #28a745;">
                        vs last period: +9.0%
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-value tooltip">+15.0%
                        <span class="tooltiptext">Median power gain per charging session - represents typical power increase.</span>
                    </div>
                    <div class="metric-label">Median Power Gain per Session</div>
                    <div style="font-size: 0.8em; margin-top: 5px; color: #28a745;">
                        vs last period: +10.0%
                    </div>
                </div>
            </div>

            <div class="chart-container">
                <div class="chart-toggle-container">
                    <button class="chart-toggle-btn" onclick="toggleChargingView()" id="chargingToggle">
                        View Weekly Trend
                    </button>
                </div>
                <canvas id="chargingChart"></canvas>
            </div>

            
            <h3>Charging Patterns by Location</h3>
            <table>
                <thead>
                    <tr>
                        <th>Location</th>
                        <th>Total Sessions</th>
                        <th>Avg Duration</th>
                        <th>Median Duration</th>
                        <th>Avg Power Gain</th>
                        <th>Median Power Gain</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Building 205 Dental Science</td>
                        <td>70
                            <div style="font-size: 0.7em; color: #28a745;">
                                vs last: +60.0 sessions
                            </div>
                        </td>
                        <td>266.7 min
                            <div style="font-size: 0.7em; color: #28a745;">
                                vs last: +233.9 min
                            </div>
                        </td>
                        <td>74.0 min
                            <div style="font-size: 0.7em; color: #28a745;">
                                vs last: +63.0 min
                            </div>
                        </td>
                        <td>+17.0%
                            <div style="font-size: 0.7em; color: #28a745;">
                                vs last: +10.1%
                            </div>
                        </td>
                        <td>+2.0%
                            <div style="font-size: 0.7em; color: #dc3545;">
                                vs last: -1.5%
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>Building 43 Marston Science Library</td>
                        <td>51
                            <div style="font-size: 0.7em; color: #28a745;">
                                vs last: +46.0 sessions
                            </div>
                        </td>
                        <td>453.5 min
                            <div style="font-size: 0.7em; color: #28a745;">
                                vs last: +377.3 min
                            </div>
                        </td>
                        <td>260.0 min
                            <div style="font-size: 0.7em; color: #28a745;">
                                vs last: +196.0 min
                            </div>
                        </td>
                        <td>+29.9%
                            <div style="font-size: 0.7em; color: #28a745;">
                                vs last: +3.1%
                            </div>
                        </td>
                        <td>+32.0%
                            <div style="font-size: 0.7em; color: #28a745;">
                                vs last: +27.0%
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
        <section id="conclusion">
            <h2>🎯 Conclusion</h2>

            <div class="highlight-box">
                <p>2025-08-20 To 2025-09-09 performance summary: 73.2% task completion rate across
                2.0 robot(s),
                112.0 tasks completed,
                543,935.0 sq ft cleaned,
                121.0 charging sessions,
                34.4 kWh energy consumption,
                and 246292 fl oz water usage.</p>
            </div>
        </section>
        <footer style="margin-top: 50px; padding-top: 20px; border-top: 2px solid #e9ecef; text-align: center; color: #7f8c8d;">
            <p><strong>Robot Performance Report</strong><br>
            Period: 2025-08-20 to 2025-09-09<br>
            Robots Included: 4<br>
            Generated: September 11, 2025 at 05:24 PM</p>
        </footer>
                </div>
                
    <script>
        // Store original daily data
        let originalData = {
            dates: ["08/20", "08/21", "08/22", "08/23", "08/24", "08/25", "08/26", "08/27", "08/28", "08/29", "08/30", "08/31", "09/01", "09/02", "09/03", "09/04", "09/05", "09/06", "09/07", "09/08", "09/09"],
            charging_sessions: [0, 3, 8, 3, 6, 6, 8, 8, 7, 6, 2, 0, 3, 7, 8, 18, 8, 1, 3, 3, 13],
            charging_durations: [0, 16.7, 258.4, 507.7, 667.8, 565.7, 229.9, 323.7, 498.8, 264.2, 599.5, 0, 987.3, 234.5, 307.3, 128.9, 238.4, 1293.0, 1328.0, 519.7, 208.5],
            energy_data: [2.5, 2.4, 2.5, 0.6, 0.5, 1.5, 2.1, 2.3, 1.8, 2.7, 1.2, 0, 1.4, 1.8, 2.3, 1.7, 2.6, 0.5, 0.8, 1.3, 1.8],
            water_data: [23955.0, 11645.0, 26330.0, 0.0, 0.0, 19461.0, 16669.0, 26679.0, 18527.0, 19316.0, 0.0, 0, 0.0, 16235.0, 21692.0, 8517.0, 14487.0, 0.0, 0.0, 10162.0, 12617.0],
            hours_saved: [41.3, 31.3, 44.2, 10.2, 7.5, 27.2, 33.1, 41.2, 24.8, 41.5, 17.4, 0.0, 20.4, 31.6, 37.9, 24.3, 38.4, 7.5, 7.9, 24.7, 31.4],
            savings_data: [1031.96, 783.19, 1104.78, 255.19, 187.78, 680.83, 826.4, 1028.75, 620.27, 1038.64, 435.45, 0.0, 510.38, 790.3, 948.67, 606.92, 961.03, 187.78, 197.98, 617.95, 784.14]
        };

        // Store chart instances
        let chartInstances = {};

        // Helper function to aggregate data by day of week
        function aggregateByDayOfWeek(dates, values) {
            const dayNames = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
            const dayTotals = new Array(7).fill(0);
            const dayCounts = new Array(7).fill(0);

            dates.forEach((dateStr, index) => {
                if (values[index] !== undefined && values[index] !== null) {
                    // Parse date (format: MM/DD)
                    const [month, day] = dateStr.split('/').map(Number);
                    const currentYear = new Date().getFullYear();
                    const date = new Date(currentYear, month - 1, day);
                    const dayOfWeek = (date.getDay() + 6) % 7; // Convert Sunday=0 to Monday=0

                    dayTotals[dayOfWeek] += values[index] || 0;
                    dayCounts[dayOfWeek]++;
                }
            });

            // Calculate averages
            const averages = dayTotals.map((total, index) =>
                dayCounts[index] > 0 ? Math.round((total / dayCounts[index]) * 100) / 100 : 0
            );

            return { labels: dayNames, data: averages };
        }

        // Toggle functions for each chart
        function toggleTaskEfficiencyView() {
            const btn = document.getElementById('taskEfficiencyToggle');
            const isWeekly = btn.textContent === 'View Daily Trend';

            if (isWeekly) {
                // Switch back to daily
                btn.textContent = 'View Weekly Trend';
                btn.classList.remove('active');
                const runningHours = originalData.energy_data.map(x => x * 0.5); // Approximate conversion
                const coverage = originalData.water_data.map(x => Math.min(x / 10, 100)); // Approximate coverage
                createTaskEfficiencyChart(originalData.dates, runningHours, coverage);
            } else {
                // Switch to weekly
                btn.textContent = 'View Daily Trend';
                btn.classList.add('active');

                const runningHours = originalData.energy_data.map(x => x * 0.5);
                const coverage = originalData.water_data.map(x => Math.min(x / 10, 100));
                const weeklyHours = aggregateByDayOfWeek(originalData.dates, runningHours);
                const weeklyCoverage = aggregateByDayOfWeek(originalData.dates, coverage);

                createTaskEfficiencyChart(weeklyHours.labels, weeklyHours.data, weeklyCoverage.data);
            }
        }

        function toggleChargingView() {
            const btn = document.getElementById('chargingToggle');
            const isWeekly = btn.textContent === 'View Daily Trend';

            if (isWeekly) {
                btn.textContent = 'View Weekly Trend';
                btn.classList.remove('active');
                createChargingChart(originalData.dates, originalData.charging_sessions, originalData.charging_durations);
            } else {
                btn.textContent = 'View Daily Trend';
                btn.classList.add('active');

                const weeklySessions = aggregateByDayOfWeek(originalData.dates, originalData.charging_sessions);
                const weeklyDurations = aggregateByDayOfWeek(originalData.dates, originalData.charging_durations);

                createChargingChart(weeklySessions.labels, weeklySessions.data, weeklyDurations.data);
            }
        }

        function toggleResourceView() {
            const btn = document.getElementById('resourceToggle');
            const isWeekly = btn.textContent === 'View Daily Trend';

            if (isWeekly) {
                btn.textContent = 'View Weekly Trend';
                btn.classList.remove('active');
                createResourceChart(originalData.dates, originalData.energy_data, originalData.water_data);
            } else {
                btn.textContent = 'View Daily Trend';
                btn.classList.add('active');

                const weeklyEnergy = aggregateByDayOfWeek(originalData.dates, originalData.energy_data);
                const weeklyWater = aggregateByDayOfWeek(originalData.dates, originalData.water_data);

                createResourceChart(weeklyEnergy.labels, weeklyEnergy.data, weeklyWater.data);
            }
        }

        function toggleFinancialView() {
            const btn = document.getElementById('financialToggle');
            const isWeekly = btn.textContent === 'View Daily Trend';

            if (isWeekly) {
                btn.textContent = 'View Weekly Trend';
                btn.classList.remove('active');
                createFinancialChart(originalData.dates, originalData.hours_saved, originalData.savings_data);
            } else {
                btn.textContent = 'View Daily Trend';
                btn.classList.add('active');

                const weeklyHours = aggregateByDayOfWeek(originalData.dates, originalData.hours_saved);
                const weeklySavings = aggregateByDayOfWeek(originalData.dates, originalData.savings_data);

                createFinancialChart(weeklyHours.labels, weeklyHours.data, weeklySavings.data);
            }
        }

        // Chart creation functions
        function createTaskEfficiencyChart(labels, runningHours, coverage) {
            if (chartInstances.taskEfficiency) {
                chartInstances.taskEfficiency.destroy();
            }

            const ctx = document.getElementById('taskEfficiencyChart');
            if (ctx) {
                chartInstances.taskEfficiency = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: labels.length > 0 ? labels : ['No Data'],
                        datasets: [{
                            label: 'Running Hours',
                            data: runningHours.length > 0 ? runningHours : [0],
                            backgroundColor: '#3498db',
                            yAxisID: 'y'
                        }, {
                            label: 'Coverage %',
                            data: coverage.length > 0 ? coverage : [0],
                            type: 'line',
                            borderColor: '#e74c3c',
                            backgroundColor: 'rgba(231, 76, 60, 0.1)',
                            tension: 0.4,
                            yAxisID: 'y1'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Task Efficiency - Running Hours & Coverage'
                            }
                        },
                        scales: {
                            y: {
                                type: 'linear',
                                display: true,
                                position: 'left',
                                title: {
                                    display: true,
                                    text: 'Running Hours'
                                }
                            },
                            y1: {
                                type: 'linear',
                                display: true,
                                position: 'right',
                                title: {
                                    display: true,
                                    text: 'Coverage %'
                                },
                                grid: {
                                    drawOnChartArea: false,
                                },
                            }
                        }
                    }
                });
            }
        }

        function createChargingChart(labels, sessions, durations) {
            if (chartInstances.charging) {
                chartInstances.charging.destroy();
            }

            const ctx = document.getElementById('chargingChart');
            if (ctx) {
                chartInstances.charging = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: labels.length > 0 ? labels : ['No Data'],
                        datasets: [{
                            label: 'Charging Sessions',
                            data: sessions.length > 0 ? sessions : [0],
                            backgroundColor: '#17a2b8',
                            yAxisID: 'y'
                        }, {
                            label: 'Avg Duration (min)',
                            data: durations.length > 0 ? durations : [0],
                            type: 'line',
                            borderColor: '#e74c3c',
                            backgroundColor: 'rgba(231, 76, 60, 0.1)',
                            tension: 0.4,
                            yAxisID: 'y1'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Daily Charging Performance'
                            }
                        },
                        scales: {
                            y: {
                                type: 'linear',
                                display: true,
                                position: 'left',
                                title: {
                                    display: true,
                                    text: 'Sessions'
                                }
                            },
                            y1: {
                                type: 'linear',
                                display: true,
                                position: 'right',
                                title: {
                                    display: true,
                                    text: 'Duration (min)'
                                },
                                grid: {
                                    drawOnChartArea: false,
                                },
                            }
                        }
                    }
                });
            }
        }

        function createResourceChart(labels, energy, water) {
            if (chartInstances.resource) {
                chartInstances.resource.destroy();
            }

            const ctx = document.getElementById('resourceChart');
            if (ctx) {
                chartInstances.resource = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: labels.length > 0 ? labels : ['No Data'],
                        datasets: [{
                            label: 'Energy (kWh)',
                            data: energy.length > 0 ? energy : [0],
                            backgroundColor: '#e74c3c',
                            yAxisID: 'y'
                        }, {
                            label: 'Water (fl oz)',
                            data: water.length > 0 ? water : [0],
                            backgroundColor: '#3498db',
                            yAxisID: 'y1'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Daily Resource Usage'
                            }
                        },
                        scales: {
                            y: {
                                type: 'linear',
                                display: true,
                                position: 'left',
                                title: {
                                    display: true,
                                    text: 'Energy (kWh)'
                                }
                            },
                            y1: {
                                type: 'linear',
                                display: true,
                                position: 'right',
                                title: {
                                    display: true,
                                    text: 'Water (fl oz)'
                                },
                                grid: {
                                    drawOnChartArea: false,
                                },
                            }
                        }
                    }
                });
            }
        }

        function createFinancialChart(labels, hours, savings) {
            if (chartInstances.financial) {
                chartInstances.financial.destroy();
            }

            const ctx = document.getElementById('financialChart');
            if (ctx) {
                chartInstances.financial = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: labels.length > 0 ? labels : ['No Data'],
                        datasets: [{
                            label: 'Hours Saved',
                            data: hours.length > 0 ? hours : [0],
                            backgroundColor: '#28a745',
                            yAxisID: 'y'
                        }, {
                            label: 'Savings ($)',
                            data: savings.length > 0 ? savings : [0],
                            backgroundColor: '#17a2b8',
                            yAxisID: 'y1'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Daily Financial Performance'
                            }
                        },
                        scales: {
                            y: {
                                type: 'linear',
                                display: true,
                                position: 'left',
                                title: {
                                    display: true,
                                    text: 'Hours Saved'
                                }
                            },
                            y1: {
                                type: 'linear',
                                display: true,
                                position: 'right',
                                title: {
                                    display: true,
                                    text: 'Savings ($)'
                                },
                                grid: {
                                    drawOnChartArea: false,
                                },
                            }
                        }
                    }
                });
            }
        }

        // Task Status Chart (static)
        const taskStatusCtx = document.getElementById('taskStatusChart');
        if (taskStatusCtx) {
            const taskStatusData = {"labels": ["Task Ended (Completed)", "Task Cancelled", "Task Interrupted"], "data": [82, 22, 4], "backgroundColor": ["#28a745", "#ffc107", "#dc3545"], "borderWidth": 2, "borderColor": "#fff"};
            new Chart(taskStatusCtx, {
                type: 'doughnut',
                data: {
                    labels: taskStatusData.labels || ['Completed', 'Cancelled', 'Interrupted'],
                    datasets: [{
                        data: taskStatusData.data || [0, 0, 0],
                        backgroundColor: taskStatusData.backgroundColor || ['#28a745', '#ffc107', '#dc3545'],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Task Status Distribution'
                        }
                    }
                }
            });
        }

        // Task Mode Chart (static)
        const taskModeCtx = document.getElementById('taskModeChart');
        if (taskModeCtx) {
            const taskModeData = {"labels": ["Scrubbing", "Sweeping"], "data": [67, 45], "backgroundColor": ["#3498db", "#2ecc71"], "borderWidth": 2, "borderColor": "#fff"};
            new Chart(taskModeCtx, {
                type: 'pie',
                data: {
                    labels: taskModeData.labels || ['No Data'],
                    datasets: [{
                        data: taskModeData.data || [1],
                        backgroundColor: taskModeData.backgroundColor || ['#6c757d']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Task Mode Distribution'
                        }
                    }
                }
            });
        }

        // Initialize all time series charts with daily data when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Task Efficiency Chart
            const runningHours = originalData.energy_data.map(x => x * 0.5); // Approximate conversion
            const coverage = originalData.water_data.map(x => Math.min(x / 10, 100)); // Approximate coverage
            createTaskEfficiencyChart(originalData.dates, runningHours, coverage);

            // Charging Chart
            createChargingChart(originalData.dates, originalData.charging_sessions, originalData.charging_durations);

            // Resource Chart
            createResourceChart(originalData.dates, originalData.energy_data, originalData.water_data);

            // Financial Chart
            createFinancialChart(originalData.dates, originalData.hours_saved, originalData.savings_data);
        });
    </script>
            </body>
            </html>