<!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>UF Report - 2026-01-20 to 2026-01-27 (Last 7 days)</title>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
                <style>
                    /* Modern CSS Reset & Base Styles */
                    * {
                        margin: 0;
                        padding: 0;
                        box-sizing: border-box;
                    }

                    :root {
                        /* Color Palette */
                        --primary-color: #2563eb;
                        --primary-dark: #1e40af;
                        --secondary-color: #7c3aed;
                        --accent-color: #06b6d4;
                        --success-color: #10b981;
                        --warning-color: #f59e0b;
                        --error-color: #ef4444;
                        --info-color: #3b82f6;

                        /* Neutrals */
                        --bg-primary: #ffffff;
                        --bg-secondary: #f8fafc;
                        --bg-tertiary: #f1f5f9;
                        --text-primary: #0f172a;
                        --text-secondary: #475569;
                        --text-tertiary: #94a3b8;
                        --border-color: #e2e8f0;
                        --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
                        --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
                        --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
                        --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);

                        /* Spacing */
                        --space-xs: 0.25rem;
                        --space-sm: 0.5rem;
                        --space-md: 1rem;
                        --space-lg: 1.5rem;
                        --space-xl: 2rem;
                        --space-2xl: 3rem;

                        /* Typography */
                        --font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
                        --font-mono: 'SF Mono', Monaco, 'Cascadia Code', 'Courier New', monospace;
                    }

                    body {
                        font-family: var(--font-sans);
                        line-height: 1.6;
                        color: var(--text-primary);
                        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                        background-attachment: fixed;
                        padding: var(--space-xl) var(--space-md);
                        min-height: 100vh;
                    }

                    .container {
                        max-width: 1400px;
                        margin: 0 auto;
                        background: var(--bg-primary);
                        border-radius: 24px;
                        box-shadow: var(--shadow-xl);
                        overflow: visible;  /* Changed from hidden to visible */
                        padding: 30px;
                    }

                    h1 {
                        color: #2c3e50;
                        text-align: center;
                        margin-bottom: 10px;
                        font-size: 2.5em;
                        font-weight: 700;
                    }

                    .subtitle {
                        text-align: center;
                        color: #7f8c8d;
                        font-size: 1.2em;
                        margin-bottom: 30px;
                    }

                    h2 {
                        color: #34495e;
                        border-bottom: 3px solid #3498db;
                        padding-bottom: 10px;
                        margin-top: 40px;
                        font-size: 1.875rem;
                        font-weight: 700;
                    }

                    h3 {
                        color: #2980b9;
                        margin-top: 30px;
                        font-size: 1.5rem;
                        font-weight: 600;
                    }

                    h4 {
                        font-size: 1.25rem;
                        font-weight: 600;
                        color: var(--text-secondary);
                        margin-bottom: var(--space-md);
                    }

                    h5 {
                        font-size: 1.125rem;
                        font-weight: 600;
                        color: var(--text-secondary);
                        margin-bottom: var(--space-md);
                    }

                    p {
                        color: var(--text-secondary);
                        margin-bottom: var(--space-md);
                        line-height: 1.7;
                    }

                    ul {
                        margin: var(--space-md) 0;
                        padding-left: var(--space-xl);
                    }

                    ul li {
                        margin-bottom: var(--space-sm);
                        color: var(--text-secondary);
                        line-height: 1.7;
                    }

                    .highlight-box {
                        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                        color: white;
                        padding: var(--space-xl);
                        border-radius: 16px;
                        margin: var(--space-lg) 0;
                        box-shadow: var(--shadow-lg);
                    }

                    .highlight-box p {
                        color: white;
                        font-size: 1.125rem;
                        margin: 0;
                        line-height: 1.8;
                    }

                    .highlight-box h3 {
                        color: white;
                        margin-top: 0;
                    }

                    .metrics-grid {
                        display: grid;
                        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
                        gap: var(--space-lg);
                        margin: var(--space-xl) 0;
                    }

                    .metric-card {
                        background: var(--bg-secondary);
                        border: 2px solid var(--border-color);
                        border-radius: 12px;
                        padding: var(--space-lg);
                        text-align: center;
                        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                        position: relative;
                        overflow: visible;  /* Changed from hidden to visible */
                    }

                    .metric-card::before {
                        content: '';
                        position: absolute;
                        top: 0;
                        left: 0;
                        right: 0;
                        height: 4px;
                        background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
                        opacity: 0;
                        transition: opacity 0.3s ease;
                    }

                    .metric-card:hover {
                        transform: translateY(-4px);
                        box-shadow: var(--shadow-lg);
                        border-color: var(--primary-color);
                    }

                    .metric-card:hover::before {
                        opacity: 1;
                    }

                    .metric-value {
                        font-size: 2.25rem;
                        font-weight: 700;
                        color: var(--primary-color);
                        margin-bottom: var(--space-sm);
                        display: block;
                    }

                    .metric-label {
                        color: var(--text-secondary);
                        font-size: 0.95rem;
                        font-weight: 500;
                        text-transform: uppercase;
                        letter-spacing: 0.5px;
                    }

                    .metric-card > div[style*="font-size: 0.8em"] {
                        margin-top: var(--space-md);
                        padding-top: var(--space-md);
                        border-top: 1px solid var(--border-color);
                        font-size: 0.875rem !important;
                    }

                    .chart-toggle-container {
                        text-align: center;
                        margin-bottom: 15px;
                    }

                    .chart-toggle-btn {
                        background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
                        color: white;
                        border: none;
                        padding: 8px 16px;
                        border-radius: 8px;
                        cursor: pointer;
                        font-size: 0.9rem;
                        font-weight: 600;
                        transition: all 0.3s ease;
                        box-shadow: var(--shadow-sm);
                        text-transform: uppercase;
                        letter-spacing: 0.5px;
                    }

                    .chart-toggle-btn:hover {
                        transform: translateY(-2px);
                        box-shadow: var(--shadow-md);
                    }

                    .chart-toggle-btn:active {
                        transform: translateY(0);
                    }

                    .chart-toggle-btn.active {
                        background: linear-gradient(135deg, var(--success-color) 0%, var(--accent-color) 100%);
                    }

                    .chart-container {
                        position: relative;
                        height: 400px;
                        margin: 30px 0;
                        background: white;
                        border-radius: 16px;
                        padding: 20px;
                        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                        border: 1px solid var(--border-color);
                    }

                    .location-efficiency-single-column {
                        display: flex;
                        flex-direction: column;
                        gap: 20px;
                        margin: 30px 0;
                    }

                    .location-efficiency-single-line {
                        background: #f8f9fa;
                        border-radius: 16px;
                        padding: 20px;
                        border: 1px solid #e9ecef;
                        margin: 15px 0;
                        box-shadow: var(--shadow-sm);
                    }

                    .location-single-line-content {
                        display: grid;
                        grid-template-columns: 1fr 350px;
                        gap: 40px;
                        align-items: flex-start;
                    }

                    .location-chart-compact {
                        position: relative;
                        height: 280px;
                        background: white;
                        border-radius: 12px;
                        padding: 15px;
                        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                        width: 100%;
                        overflow: hidden;
                        margin-right: 20px;
                    }

                    .location-stats-compact {
                        display: flex;
                        flex-direction: column;
                        gap: 12px;
                        min-width: 350px;
                        max-width: 350px;
                        padding-left: 15px;
                        border-left: 1px solid #e9ecef;
                        background: var(--bg-primary);
                        padding: var(--space-lg);
                        border-radius: 12px;
                        box-shadow: var(--shadow-sm);
                        border: 1px solid var(--border-color);
                    }

                    .location-chart-compact canvas {
                        width: 100% !important;
                        height: 220px !important;
                        max-width: 100%;
                        display: block;
                    }

                    .location-chart-compact .chart-toggle-container {
                        margin-bottom: 10px;
                        text-align: center;
                    }

                    .location-chart-compact .chart-toggle-btn {
                        padding: 6px 12px;
                        font-size: 0.8em;
                    }

                    .stat-row {
                        display: flex;
                        align-items: flex-start;
                        gap: 10px;
                        padding: 8px 0;
                        border-bottom: 1px solid #e9ecef;
                        flex-wrap: wrap;
                    }

                    .stat-row:last-child {
                        border-bottom: none;
                    }

                    .stat-label {
                        font-weight: 600;
                        color: #495057;
                        min-width: 90px;
                        font-size: 0.9em;
                        flex-shrink: 0;
                    }

                    .stat-value {
                        font-weight: bold;
                        color: #2c3e50;
                        font-size: 0.95em;
                        flex-shrink: 0;
                    }

                    .stat-comparison {
                        font-size: 0.85em;
                        font-style: italic;
                        margin-left: 5px;
                        flex-shrink: 0;
                    }

                    .location-chart-container {
                        position: relative;
                        height: 350px;
                        margin: 20px 0;
                        background: white;
                        border-radius: 8px;
                        padding: 15px;
                        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                    }

                    .chart-row {
                        display: grid;
                        grid-template-columns: 1fr 1fr;
                        gap: 30px;
                        margin: 30px 0;
                    }

                    .chart-small {
                        position: relative;
                        height: 300px;
                        background: var(--bg-primary);
                        border-radius: 12px;
                        padding: var(--space-lg);
                        box-shadow: var(--shadow-md);
                        border: 1px solid var(--border-color);
                    }

                    .location-efficiency-grid {
                        display: grid;
                        grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
                        gap: 30px;
                        margin: 30px 0;
                    }

                    .location-efficiency-item {
                        background: #f8f9fa;
                        border-radius: 8px;
                        padding: 20px;
                        border: 1px solid #e9ecef;
                    }

                    table {
                        width: 100%;
                        border-collapse: separate;
                        border-spacing: 0;
                        margin: 20px 0;
                        background: white;
                        border-radius: 12px;
                        overflow: hidden;
                        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                        border: 1px solid var(--border-color);
                    }

                    th, td {
                        padding: 12px;
                        text-align: left;
                        border-bottom: 1px solid #e9ecef;
                    }

                    th {
                        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                        color: white;
                        font-weight: 600;
                        font-size: 0.95rem;
                        text-transform: uppercase;
                        letter-spacing: 0.5px;
                    }

                    tr:hover {
                        background: #f8f9fa;
                    }

                    tbody tr:last-child td {
                        border-bottom: none;
                    }

                    .progress-container {
                        display: flex;
                        align-items: center;
                        gap: 10px;
                        margin: 10px 0;
                    }

                    .progress-bar {
                        width: 60%;
                        height: 15px;
                        background: #e9ecef;
                        border-radius: 8px;
                        overflow: hidden;
                        margin: 3px 0;
                        display: inline-block;
                    }

                    .progress-fill {
                        height: 100%;
                        background: linear-gradient(90deg, #28a745, #20c997);
                        transition: width 0.3s ease;
                        border-radius: 6px;
                        position: relative;
                        overflow: hidden;
                    }

                    .progress-fill::after {
                        content: '';
                        position: absolute;
                        top: 0;
                        left: 0;
                        right: 0;
                        bottom: 0;
                        background: linear-gradient(
                            90deg,
                            transparent,
                            rgba(255,255,255,0.3),
                            transparent
                        );
                        animation: shimmer 2s infinite;
                    }

                    @keyframes shimmer {
                        0% { transform: translateX(-100%); }
                        100% { transform: translateX(100%); }
                    }

                    .progress-text {
                        display: inline-block;
                        margin-left: 10px;
                        font-weight: bold;
                        color: #2c3e50;
                    }

                    .status-indicator {
                        display: inline-flex;
                        align-items: center;
                        gap: 5px;
                    }

                    .status-dot {
                        width: 10px;
                        height: 10px;
                        border-radius: 50%;
                    }

                    .status-excellent { background: #28a745; }
                    .status-good { background: #17a2b8; }
                    .status-warning { background: #ffc107; }
                    .status-error { background: #dc3545; }

                    .two-column {
                        display: grid;
                        grid-template-columns: 1fr 1fr;
                        gap: 30px;
                        margin: 20px 0;
                    }

                    .two-column > div {
                        background: var(--bg-secondary);
                        padding: var(--space-lg);
                        border-radius: 12px;
                        border: 1px solid var(--border-color);
                    }

                    /* Universal Tooltip Styles */
                    .tooltip {
                        position: relative;
                        display: inline-block;
                        cursor: help;
                        color: #3498db;
                        text-decoration: underline dotted;
                        text-underline-offset: 2px;
                    }

                    .tooltip .tooltiptext {
                        visibility: hidden;
                        width: 280px;
                        background-color: rgba(0, 0, 0, 0.95);
                        color: #fff;
                        text-align: left;
                        border-radius: 8px;
                        padding: 12px 15px;
                        position: absolute;
                        z-index: 99999;
                        bottom: calc(100% + 10px);
                        left: 50%;
                        transform: translateX(-50%);
                        opacity: 0;
                        transition: opacity 0.3s ease, visibility 0.3s ease;
                        font-size: 0.875rem;
                        line-height: 1.6;
                        box-shadow: 0 8px 16px rgba(0,0,0,0.4);
                        pointer-events: none;
                        white-space: normal;
                        word-wrap: break-word;
                    }

                    .tooltip .tooltiptext::after {
                        content: '';
                        position: absolute;
                        top: 100%;
                        left: 50%;
                        margin-left: -6px;
                        border-width: 6px;
                        border-style: solid;
                        border-color: rgba(0, 0, 0, 0.95) transparent transparent transparent;
                    }

                    .tooltip:hover .tooltiptext {
                        visibility: visible;
                        opacity: 1;
                    }

                    /* Metric card tooltips - position relative to metric-value */
                    .metric-value .tooltip .tooltiptext {
                        bottom: calc(100% + 15px);
                        width: 300px;
                    }

                    /* Make sure containers allow overflow */
                    .container {
                        overflow: visible !important;
                    }

                    .metric-card {
                        overflow: visible !important;
                        position: relative;
                    }

                    section {
                        overflow: visible !important;
                    }

                    table {
                        overflow: visible !important;
                    }

                    .map-section {
                        overflow: visible !important;
                    }

                    /* Prevent table overflow from hiding tooltips */
                    table {
                        width: 100%;
                        border-collapse: separate;
                        border-spacing: 0;
                        margin: 20px 0;
                        background: white;
                        border-radius: 12px;
                        overflow: visible;  /* Changed from hidden */
                        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                        border: 1px solid var(--border-color);
                    }

                    tbody, thead {
                        overflow: visible;
                    }

                    tr {
                        overflow: visible;
                    }

                    td {
                        padding: 12px;
                        text-align: left;
                        border-bottom: 1px solid #e9ecef;
                        color: var(--text-primary);
                        position: relative;
                        overflow: visible;
                    }

                    /* For tooltips that might overflow off-screen */
                    .metric-card .tooltip .tooltiptext {
                        left: auto;
                        right: -10px;
                        margin-left: 0;
                        bottom: 100%;
                        margin-bottom: 10px;
                    }

                    .metric-card .tooltip .tooltiptext::after {
                        left: auto;
                        right: 20px;
                        margin-left: 0;
                    }

                    .map-section {
                        margin: 30px 0;
                        padding: 20px;
                        background: #f8f9fa;
                        border-radius: 8px;
                    }

                    .building-maps {
                        margin: 15px 0;
                    }

                    .map-metrics {
                        display: grid;
                        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                        gap: 15px;
                        margin: 10px 0;
                    }

                    .map-metric {
                        background: white;
                        padding: 10px;
                        border-radius: 5px;
                        text-align: center;
                        border: 1px solid #dee2e6;
                    }

                    @media (max-width: 768px) {
                        .chart-row, .two-column, .location-efficiency-grid, .location-single-line-content {
                            grid-template-columns: 1fr;
                        }

                        .location-chart-compact {
                            height: 220px;
                            margin-bottom: 15px;
                        }

                        .location-stats-compact {
                            min-width: unset;
                            max-width: unset;
                        }

                        .stat-label {
                            min-width: 80px;
                            font-size: 0.85em;
                        }

                        .stat-value {
                            font-size: 0.9em;
                        }

                        .stat-comparison {
                            font-size: 0.8em;
                            margin-left: 3px;
                        }

                        .container {
                            padding: 15px;
                        }

                        .progress-bar {
                            width: 40%;
                        }
                    }

                    @media (max-width: 1024px) and (min-width: 769px) {
                        .location-single-line-content {
                            grid-template-columns: 1fr 320px;
                            gap: 20px;
                        }

                        .location-stats-compact {
                            min-width: 320px;
                            max-width: 320px;
                        }

                        .stat-label {
                            min-width: 85px;
                        }
                    }

                    .health-score-container {
                        display: grid;
                        grid-template-columns: 1fr 1fr;
                        gap: 30px;
                        margin: 20px 0;
                        align-items: center;
                    }

                    .health-pentagon {
                        position: relative;
                        width: 300px;
                        height: 300px;
                        margin: 0 auto;
                    }

                    .health-details {
                        display: flex;
                        flex-direction: column;
                        gap: 15px;
                    }

                    .health-component {
                        display: flex;
                        align-items: center;
                        gap: 10px;
                    }

                    .health-component-label {
                        min-width: 140px;
                        font-weight: 600;
                        color: #495057;
                    }

                    .health-component-bar {
                        flex: 1;
                        height: 20px;
                        background: #e9ecef;
                        border-radius: 10px;
                        overflow: hidden;
                        position: relative;
                    }

                    .health-component-fill {
                        height: 100%;
                        transition: width 0.3s ease;
                        border-radius: 10px;
                    }

                    .health-excellent { background: linear-gradient(90deg, #28a745, #20c997); }
                    .health-good { background: linear-gradient(90deg, #17a2b8, #3498db); }
                    .health-fair { background: linear-gradient(90deg, #ffc107, #f39c12); }
                    .health-poor { background: linear-gradient(90deg, #dc3545, #c0392b); }

                    .health-component-value {
                        min-width: 50px;
                        text-align: right;
                        font-weight: bold;
                        color: #2c3e50;
                    }

                    .utilization-breakdown {
                        display: grid;
                        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                        gap: 15px;
                        margin: 20px 0;
                    }

                    .utilization-card {
                        background: #f8f9fa;
                        border: 1px solid #e9ecef;
                        border-radius: 8px;
                        padding: 15px;
                        text-align: center;
                    }

                    .utilization-label {
                        font-size: 0.9em;
                        color: #6c757d;
                        margin-bottom: 8px;
                    }

                    .utilization-value {
                        font-size: 1.5em;
                        font-weight: bold;
                        color: #2c3e50;
                    }

                    .utilization-bar-container {
                        margin-top: 10px;
                        height: 8px;
                        background: #e9ecef;
                        border-radius: 4px;
                        overflow: hidden;
                    }

                    .utilization-bar-fill {
                        height: 100%;
                        transition: width 0.3s ease;
                    }

                    .working-time { background: #28a745; }
                    .idle-time { background: #ffc107; }
                    .charging-time { background: #17a2b8; }
                    .downtime { background: #dc3545; }

                    @media (max-width: 768px) {
                        .health-score-container {
                            grid-template-columns: 1fr;
                        }

                        .health-pentagon {
                            width: 250px;
                            height: 250px;
                        }
                    }

                    .white-text {
                        color: white !important;
                    }
                </style>
            </head>
            <body>
                <div class="container">
                    <h1>UF Report</h1>
                    <p class="subtitle">2026-01-20 to 2026-01-27 (Last 7 days)</p>
                    
        <section id="executive-summary">
            <h2>ðŸ“Š Executive Summary</h2>
            <div class="highlight-box">
                <p>Robot deployment during 2026-01-20 to 2026-01-27 (Last 7 days) processed 13.0 total tasks,
                covering 70,945.0 square feet with
                14.3 total running hours.</p>
            </div>

            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-value">11</div>
                    <div class="metric-label">Total Robots</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value tooltip">70,945.0
                        <span class="tooltiptext">Total area cleaned in square feet, converted from actual_area field in task data (originally in square meters).</span>
                    </div>
                    <div class="metric-label">Sq Ft Cleaned</div>
                    <div style="font-size: 0.8em; margin-top: 5px; color: #dc3545;">
                        vs last period: -2010.0 sq ft
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-value tooltip">82.6%
                        <span class="tooltiptext">Coverage efficiency calculated as (actual area cleaned / planned area) Ã— 100 from task performance data.</span>
                    </div>
                    <div class="metric-label">Coverage</div>
                    <div style="font-size: 0.8em; margin-top: 5px; color: #28a745;">
                        vs last period: +25.0%
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-value tooltip">14.3
                        <span class="tooltiptext">Total running hours from all robots during the reporting period, calculated from task duration data.</span>
                    </div>
                    <div class="metric-label">Total Running Hours</div>
                    <div style="font-size: 0.8em; margin-top: 5px; color: #dc3545;">
                        vs last period: -3.5 hrs
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-value tooltip">1.4
                        <span class="tooltiptext">Average daily running hours per robot calculated as the average of daily running hours of each robot on days when the robot had at least 1 task.</span>
                    </div>
                    <div class="metric-label">Avg Daily Running Hours per Robot (hrs/robot)</div>
                    <div style="font-size: 0.8em; margin-top: 5px; color: #28a745;">
                        vs last period: +0.3 hrs/robot
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-value tooltip">7/7
                        <span class="tooltiptext">Days with tasks out of total reporting period days. Shows actual operational days vs total period length.</span>
                    </div>
                    <div class="metric-label">Days with Tasks</div>
                    <div style="font-size: 0.8em; margin-top: 5px; color: #28a745;">
                        vs last period: +2.0 days
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-value tooltip">8.9 hrs
                        <span class="tooltiptext">Hours saved compared to manual cleaning, calculated from area cleaned and human cleaning speed benchmarks.</span>
                    </div>
                    <div class="metric-label">Hours Saved vs Manual</div>
                    <div style="font-size: 0.8em; margin-top: 5px; color: #dc3545;">
                        vs last period: -2.7 hrs
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-value tooltip">$222
                        <span class="tooltiptext">Savings realized from robot operations compared to manual cleaning costs.</span>
                    </div>
                    <div class="metric-label">Savings Realized</div>
                    <div style="font-size: 0.8em; margin-top: 5px; color: #dc3545;">
                        vs last period: -67.6
                    </div>
                </div>
            </div>
            <h3>ðŸŽ¯ Highlights and Recommendations</h3>
<ul style="font-size: 1.1em; color: #2c3e50;">
    <li>Cleaning coverage increased by 25.0%, suggesting improved cleaning performance</li>
    <li>Average daily runtime increased by 0.3 hrs/robot</li>
    <li>Charging frequency decreased by 13 sessions</li>
    <li>Task completion rate improved by 43.6%</li>
    <li>Cost savings decreased by $68</li>
    <li>Total area cleaned reduced by 2,010 sq ft</li>
</ul>

        
            <h3>ðŸ¤– Individual Robot Performance</h3>
            <table>
                <thead>
                    <tr>
                        <th>Robot ID</th>
                        <th>Location</th>
                        <th>Total Tasks</th>
                        <th>Tasks Completed</th>
                        <th>Total Area Cleaned</th>
                        <th>Average Coverage</th>
                        <th>Days with Tasks</th>
                        <th>Running Hours</th>
                        <th>Utilization</th>
                        <th>Health Score</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>811135422060257</td><td>Marston BLDG 0043</td><td>5</td><td>5</td><td>30,035 sq ft</td><td>100.0%</td><td>3</td><td>8.0 hrs</td><td><span class="tooltip">4.8%<span class="tooltiptext">Utilization = Working hours / Uptime hours Ã— 100. Indicates how efficiently the robot's available time is being used for productive tasks.</span></span></td><td><span class="tooltip" style="color: #28a745; font-weight: bold;">91.1 (Excellent)<span class="tooltiptext">Overall health score (0-100) based on availability (40%), task success (20%), efficiency (20%), mode performance (10%), and battery health (10%).</span></span></td></tr><tr><td>811135422060228</td><td>Building 43 Marston Science Library</td><td>5</td><td>2</td><td>33,402 sq ft</td><td>69.1%</td><td>3</td><td>5.0 hrs</td><td><span class="tooltip">2.9%<span class="tooltiptext">Utilization = Working hours / Uptime hours Ã— 100. Indicates how efficiently the robot's available time is being used for productive tasks.</span></span></td><td><span class="tooltip" style="color: #17a2b8; font-weight: bold;">86.6 (Good)<span class="tooltiptext">Overall health score (0-100) based on availability (40%), task success (20%), efficiency (20%), mode performance (10%), and battery health (10%).</span></span></td></tr><tr><td>811135422060229</td><td>Harrell Building BLDG 0010</td><td>1</td><td>1</td><td>4,445 sq ft</td><td>100.0%</td><td>1</td><td>0.8 hrs</td><td><span class="tooltip">0.5%<span class="tooltiptext">Utilization = Working hours / Uptime hours Ã— 100. Indicates how efficiently the robot's available time is being used for productive tasks.</span></span></td><td><span class="tooltip" style="color: #28a745; font-weight: bold;">96.6 (Excellent)<span class="tooltiptext">Overall health score (0-100) based on availability (40%), task success (20%), efficiency (20%), mode performance (10%), and battery health (10%).</span></span></td></tr><tr><td>811135422060253</td><td>DSIT BLDG 1024</td><td>2</td><td>2</td><td>3,064 sq ft</td><td>100.0%</td><td>1</td><td>0.5 hrs</td><td><span class="tooltip">0.3%<span class="tooltiptext">Utilization = Working hours / Uptime hours Ã— 100. Indicates how efficiently the robot's available time is being used for productive tasks.</span></span></td><td><span class="tooltip" style="color: #28a745; font-weight: bold;">96.6 (Excellent)<span class="tooltiptext">Overall health score (0-100) based on availability (40%), task success (20%), efficiency (20%), mode performance (10%), and battery health (10%).</span></span></td></tr><tr><td>811064412050012</td><td>Building 205 Dental Science</td><td>0</td><td>0</td><td>0 sq ft</td><td>0.0%</td><td>0</td><td>0.0 hrs</td><td><span class="tooltip">0.0%<span class="tooltiptext">Utilization = Working hours / Uptime hours Ã— 100. Indicates how efficiently the robot's available time is being used for productive tasks.</span></span></td><td><span style="color: #6c757d;">N/A</span></td></tr><tr><td>811135422060211</td><td>Communicor BLDG 0203</td><td>0</td><td>0</td><td>0 sq ft</td><td>0.0%</td><td>0</td><td>0.0 hrs</td><td><span class="tooltip">0.0%<span class="tooltiptext">Utilization = Working hours / Uptime hours Ã— 100. Indicates how efficiently the robot's available time is being used for productive tasks.</span></span></td><td><span class="tooltip" style="color: #28a745; font-weight: bold;">100.0 (Excellent)<span class="tooltiptext">Overall health score (0-100) based on availability (40%), task success (20%), efficiency (20%), mode performance (10%), and battery health (10%).</span></span></td></tr><tr><td>811135422060216</td><td>Building 205 Dental Science</td><td>0</td><td>0</td><td>0 sq ft</td><td>0.0%</td><td>0</td><td>0.0 hrs</td><td><span class="tooltip">0.0%<span class="tooltiptext">Utilization = Working hours / Uptime hours Ã— 100. Indicates how efficiently the robot's available time is being used for productive tasks.</span></span></td><td><span class="tooltip" style="color: #28a745; font-weight: bold;">100.0 (Excellent)<span class="tooltiptext">Overall health score (0-100) based on availability (40%), task success (20%), efficiency (20%), mode performance (10%), and battery health (10%).</span></span></td></tr><tr><td>811135422060223</td><td>Vet Academic BLDG 1017</td><td>0</td><td>0</td><td>0 sq ft</td><td>0.0%</td><td>0</td><td>0.0 hrs</td><td><span class="tooltip">0.0%<span class="tooltiptext">Utilization = Working hours / Uptime hours Ã— 100. Indicates how efficiently the robot's available time is being used for productive tasks.</span></span></td><td><span class="tooltip" style="color: #28a745; font-weight: bold;">99.9 (Excellent)<span class="tooltiptext">Overall health score (0-100) based on availability (40%), task success (20%), efficiency (20%), mode performance (10%), and battery health (10%).</span></span></td></tr><tr><td>811135422060226</td><td>HPNP (Health Prof Nursing and Pharmacy)</td><td>0</td><td>0</td><td>0 sq ft</td><td>0.0%</td><td>0</td><td>0.0 hrs</td><td><span class="tooltip">0.0%<span class="tooltiptext">Utilization = Working hours / Uptime hours Ã— 100. Indicates how efficiently the robot's available time is being used for productive tasks.</span></span></td><td><span class="tooltip" style="color: #28a745; font-weight: bold;">100.0 (Excellent)<span class="tooltiptext">Overall health score (0-100) based on availability (40%), task success (20%), efficiency (20%), mode performance (10%), and battery health (10%).</span></span></td></tr><tr><td>811135422060243</td><td>Vet Med BLDG 0075</td><td>0</td><td>0</td><td>0 sq ft</td><td>0.0%</td><td>0</td><td>0.0 hrs</td><td><span class="tooltip">0.0%<span class="tooltiptext">Utilization = Working hours / Uptime hours Ã— 100. Indicates how efficiently the robot's available time is being used for productive tasks.</span></span></td><td><span style="color: #6c757d;">N/A</span></td></tr><tr><td>811135422060244</td><td>DSIT BLDG 1024</td><td>0</td><td>0</td><td>0 sq ft</td><td>0.0%</td><td>0</td><td>0.0 hrs</td><td><span class="tooltip">0.0%<span class="tooltiptext">Utilization = Working hours / Uptime hours Ã— 100. Indicates how efficiently the robot's available time is being used for productive tasks.</span></span></td><td><span class="tooltip" style="color: #28a745; font-weight: bold;">100.0 (Excellent)<span class="tooltiptext">Overall health score (0-100) based on availability (40%), task success (20%), efficiency (20%), mode performance (10%), and battery health (10%).</span></span></td></tr>
                </tbody>
            </table>
            
            <h3>ðŸ’° Individual Robot ROI Breakdown</h3>
            <p>Investment and ROI analysis per robot based on lease model and operational savings.</p>
            <table>
                <thead>
                    <tr>
                        <th>Robot ID</th>
                        <th>Months Deployed</th>
                        <th>Total Investment</th>
                        <th>Cumulative Savings</th>
                        <th>ROI</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>811064412050012</td><td>3</td><td>$4,500.00</td><td>$267.91</td><td>6.0%</td></tr><tr><td>811135422060211</td><td>1</td><td>$1,500.00</td><td>$165.80</td><td>11.1%</td></tr><tr><td>811135422060216</td><td>6</td><td>$9,000.00</td><td>$2,517.04</td><td>28.0%</td></tr><tr><td>811135422060223</td><td>0</td><td>$0.00</td><td>$0.00</td><td>0.0%</td></tr><tr><td>811135422060226</td><td>1</td><td>$1,500.00</td><td>$52.70</td><td>3.5%</td></tr><tr><td>811135422060228</td><td>6</td><td>$9,000.00</td><td>$4,525.63</td><td>50.3%</td></tr><tr><td>811135422060229</td><td>1</td><td>$1,500.00</td><td>$137.50</td><td>9.2%</td></tr><tr><td>811135422060243</td><td>1</td><td>$1,500.00</td><td>$23.09</td><td>1.5%</td></tr><tr><td>811135422060244</td><td>1</td><td>$1,500.00</td><td>$0.15</td><td>0.0%</td></tr><tr><td>811135422060253</td><td>1</td><td>$1,500.00</td><td>$10.79</td><td>0.7%</td></tr><tr><td>811135422060257</td><td>1</td><td>$1,500.00</td><td>$102.08</td><td>6.8%</td></tr>
                </tbody>
            </table>
            </section>
        <section id="task-performance">
            <h2>ðŸ“‹ Task & Schedule Performance</h2>

            <h3>Task Management Efficiency</h3>
            <p>Task tracking across all facilities: 13 total tasks with 6,591 sq ft total coverage and 65.9 minutes average task duration.</p>

            <table>
                <thead>
                    <tr>
                        <th>Metric</th>
                        <th>Total</th>
                        <th>Completed</th>
                        <th>Task Completion Rate</th>
                        <th>Average Duration</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>All Facilities</strong></td>
                        <td>13</td>
                        <td>10</td>
                        <td>
                            <span class="tooltip">76.9%
                                <span class="tooltiptext">Task completion rate calculated as (completed tasks / total tasks) Ã— 100.</span>
                            </span>
                            <span style="color: #28a745; font-size: 0.8em; margin-left: 5px;">
                                (vs last: +43.6%)
                            </span>
                        </td>
                        <td>
                            <span class="tooltip">65.9 min
                                <span class="tooltiptext">Average task duration calculated from actual task durations in the database.</span>
                            </span>
                            <span style="color: #28a745; font-size: 0.8em; margin-left: 5px;">
                                (vs last: +30.3 min)
                            </span>
                        </td>
                    </tr>
                </tbody>
            </table>

            <div class="chart-row">
                <div class="chart-small">
                    <canvas id="taskStatusChart"></canvas>
                </div>
                <div class="chart-small">
                    <canvas id="taskModeChart"></canvas>
                </div>
            </div>
        
            <h3>Task Efficiency by Location</h3>
            <p>Daily task performance showing running hours and coverage efficiency patterns for each location. Each chart displays actual operational data to identify location-specific performance trends.</p>

            <div class="location-efficiency-single-column">
                    <div class="location-efficiency-single-line">
                        <h4>Building 43 Marston Science Library</h4>
                        <div class="location-single-line-content">
                            <div class="location-chart-compact">
                                <div class="chart-toggle-container">
                                    <button class="chart-toggle-btn" onclick="toggleLocationView('Building_43_Marston_Science_Library')" id="locationToggle_Building_43_Marston_Science_Library">
                                        View Weekly Trend
                                    </button>
                                </div>
                                <canvas id="taskEfficiencyChart_Building_43_Marston_Science_Library"></canvas>
                            </div>
                            <div class="location-stats-compact">
                                <div class="stat-row">
                                    <span class="stat-label">Task Mode:</span>
                                    <span class="stat-value">Sweeping</span>
                                </div>
                                <div class="stat-row">
                                    <span class="stat-label">Avg Duration:</span>
                                    <span class="stat-value">59.4 min</span>
                                    <span class="stat-comparison" style="color: #dc3545;">
                                        (vs last: -51.6 min)
                                    </span>
                                </div>
                                <div class="stat-row">
                                    <span class="stat-label">Days with Tasks:</span>
                                    <span class="stat-value">3/7</span>
                                    <span class="stat-comparison" style="color: #28a745;">
                                        (vs last: +2.0 days)
                                    </span>
                                </div>
                                <div class="stat-row">
                                    <span class="stat-label">Highest Coverage:</span>
                                    <span class="stat-value">Monday</span>
                                    <span class="stat-comparison">(vs last: Wednesday)</span>
                                </div>
                                <div class="stat-row">
                                    <span class="stat-label">Lowest Coverage:</span>
                                    <span class="stat-value">Friday</span>
                                    <span class="stat-comparison">(vs last: Friday)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="location-efficiency-single-line">
                        <h4>DSIT BLDG 1024</h4>
                        <div class="location-single-line-content">
                            <div class="location-chart-compact">
                                <div class="chart-toggle-container">
                                    <button class="chart-toggle-btn" onclick="toggleLocationView('DSIT_BLDG_1024')" id="locationToggle_DSIT_BLDG_1024">
                                        View Weekly Trend
                                    </button>
                                </div>
                                <canvas id="taskEfficiencyChart_DSIT_BLDG_1024"></canvas>
                            </div>
                            <div class="location-stats-compact">
                                <div class="stat-row">
                                    <span class="stat-label">Task Mode:</span>
                                    <span class="stat-value">Sweeping</span>
                                </div>
                                <div class="stat-row">
                                    <span class="stat-label">Avg Duration:</span>
                                    <span class="stat-value">15.1 min</span>
                                    <span class="stat-comparison" style="color: #28a745;">
                                        (vs last: +13.7 min)
                                    </span>
                                </div>
                                <div class="stat-row">
                                    <span class="stat-label">Days with Tasks:</span>
                                    <span class="stat-value">1/7</span>
                                    <span class="stat-comparison" style="color: #dc3545;">
                                        (vs last: -1.0 days)
                                    </span>
                                </div>
                                <div class="stat-row">
                                    <span class="stat-label">Highest Coverage:</span>
                                    <span class="stat-value">Wednesday</span>
                                    <span class="stat-comparison">(vs last: Thursday)</span>
                                </div>
                                <div class="stat-row">
                                    <span class="stat-label">Lowest Coverage:</span>
                                    <span class="stat-value">Friday</span>
                                    <span class="stat-comparison">(vs last: Monday)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="location-efficiency-single-line">
                        <h4>Harrell Building BLDG 0010</h4>
                        <div class="location-single-line-content">
                            <div class="location-chart-compact">
                                <div class="chart-toggle-container">
                                    <button class="chart-toggle-btn" onclick="toggleLocationView('Harrell_Building_BLDG_0010')" id="locationToggle_Harrell_Building_BLDG_0010">
                                        View Weekly Trend
                                    </button>
                                </div>
                                <canvas id="taskEfficiencyChart_Harrell_Building_BLDG_0010"></canvas>
                            </div>
                            <div class="location-stats-compact">
                                <div class="stat-row">
                                    <span class="stat-label">Task Mode:</span>
                                    <span class="stat-value">Sweeping</span>
                                </div>
                                <div class="stat-row">
                                    <span class="stat-label">Avg Duration:</span>
                                    <span class="stat-value">47.2 min</span>
                                    <span class="stat-comparison" style="color: #28a745;">
                                        (vs last: +28.9 min)
                                    </span>
                                </div>
                                <div class="stat-row">
                                    <span class="stat-label">Days with Tasks:</span>
                                    <span class="stat-value">1/7</span>
                                    <span class="stat-comparison" style="color: #dc3545;">
                                        (vs last: -3.0 days)
                                    </span>
                                </div>
                                <div class="stat-row">
                                    <span class="stat-label">Highest Coverage:</span>
                                    <span class="stat-value">Wednesday</span>
                                    <span class="stat-comparison">(vs last: Friday)</span>
                                </div>
                                <div class="stat-row">
                                    <span class="stat-label">Lowest Coverage:</span>
                                    <span class="stat-value">Friday</span>
                                    <span class="stat-comparison">(vs last: Monday)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="location-efficiency-single-line">
                        <h4>Marston BLDG 0043</h4>
                        <div class="location-single-line-content">
                            <div class="location-chart-compact">
                                <div class="chart-toggle-container">
                                    <button class="chart-toggle-btn" onclick="toggleLocationView('Marston_BLDG_0043')" id="locationToggle_Marston_BLDG_0043">
                                        View Weekly Trend
                                    </button>
                                </div>
                                <canvas id="taskEfficiencyChart_Marston_BLDG_0043"></canvas>
                            </div>
                            <div class="location-stats-compact">
                                <div class="stat-row">
                                    <span class="stat-label">Task Mode:</span>
                                    <span class="stat-value">Sweeping</span>
                                </div>
                                <div class="stat-row">
                                    <span class="stat-label">Avg Duration:</span>
                                    <span class="stat-value">96.6 min</span>
                                    <span class="stat-comparison" style="color: #6c757d;">
                                        (vs last: N/A)
                                    </span>
                                </div>
                                <div class="stat-row">
                                    <span class="stat-label">Days with Tasks:</span>
                                    <span class="stat-value">3/7</span>
                                    <span class="stat-comparison" style="color: #6c757d;">
                                        (vs last: N/A)
                                    </span>
                                </div>
                                <div class="stat-row">
                                    <span class="stat-label">Highest Coverage:</span>
                                    <span class="stat-value">Friday</span>
                                    <span class="stat-comparison">(vs last: N/A)</span>
                                </div>
                                <div class="stat-row">
                                    <span class="stat-label">Lowest Coverage:</span>
                                    <span class="stat-value">Monday</span>
                                    <span class="stat-comparison">(vs last: N/A)</span>
                                </div>
                            </div>
                        </div>
                    </div>
            </div></section>
        <section id="facility-performance">
            <h2>ðŸ¢ Facility-Specific Performance</h2>

            <div class="two-column">
                
            <div>
                <h3>Building 43 Marston Science Library</h3>
                <p>Performance metrics for Building 43 Marston Science Library: 5 total tasks, 33,402 sq ft total area cleaned, 69.1% average coverage, 6747.1 sq ft/hour time efficiency, and 0.0 sq ft/fl oz water efficiency.</p>

                <table>
                    <thead>
                        <tr>
                            <th>Metric</th>
                            <th>Performance</th>
                            <th>vs Last Period</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Total Area Cleaned</td>
                            <td>33,402 sq ft</td>
                            <td style="color: #28a745;">+23194.0 sq ft</td>
                        </tr>
                        <tr>
                            <td>Average Coverage</td>
                            <td>69.1%</td>
                            <td style="color: #dc3545;">-30.9%</td>
                        </tr>
                        <tr>
                            <td>Running Hours</td>
                            <td>5.0 hours</td>
                            <td style="color: #28a745;">+3.2 hrs</td>
                        </tr>
                        <tr>
                            <td>Time Efficiency</td>
                            <td>6747.1 sq ft/hr</td>
                            <td style="color: #28a745;">+1229.5 sq ft/hr</td>
                        </tr>
                        <tr>
                            <td>Power Efficiency</td>
                            <td>17,042 sq ft/kWh</td>
                            <td style="color: #28a745;">+2665.0 sq ft/kWh</td>
                        </tr>
                        <tr>
                            <td>Water Efficiency</td>
                            <td>0.0 sq ft/fl oz</td>
                            <td style="color: #6c757d;">0 sq ft/fl oz</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div>
                <h3>DSIT BLDG 1024</h3>
                <p>Performance metrics for DSIT BLDG 1024: 2 total tasks, 3,064 sq ft total area cleaned, 100.0% average coverage, 6083.4 sq ft/hour time efficiency, and 0.0 sq ft/fl oz water efficiency.</p>

                <table>
                    <thead>
                        <tr>
                            <th>Metric</th>
                            <th>Performance</th>
                            <th>vs Last Period</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Total Area Cleaned</td>
                            <td>3,064 sq ft</td>
                            <td style="color: #28a745;">+2627.0 sq ft</td>
                        </tr>
                        <tr>
                            <td>Average Coverage</td>
                            <td>100.0%</td>
                            <td style="color: #28a745;">+93.5%</td>
                        </tr>
                        <tr>
                            <td>Running Hours</td>
                            <td>0.5 hours</td>
                            <td style="color: #28a745;">+0.4 hrs</td>
                        </tr>
                        <tr>
                            <td>Time Efficiency</td>
                            <td>6083.4 sq ft/hr</td>
                            <td style="color: #28a745;">+1313.6 sq ft/hr</td>
                        </tr>
                        <tr>
                            <td>Power Efficiency</td>
                            <td>25,530 sq ft/kWh</td>
                            <td style="color: #28a745;">+14599.0 sq ft/kWh</td>
                        </tr>
                        <tr>
                            <td>Water Efficiency</td>
                            <td>0.0 sq ft/fl oz</td>
                            <td style="color: #dc3545;">-7.1 sq ft/fl oz</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div>
                <h3>Harrell Building BLDG 0010</h3>
                <p>Performance metrics for Harrell Building BLDG 0010: 1 total tasks, 4,445 sq ft total area cleaned, 100.0% average coverage, 5656.3 sq ft/hour time efficiency, and 0.0 sq ft/fl oz water efficiency.</p>

                <table>
                    <thead>
                        <tr>
                            <th>Metric</th>
                            <th>Performance</th>
                            <th>vs Last Period</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Total Area Cleaned</td>
                            <td>4,445 sq ft</td>
                            <td style="color: #dc3545;">-26798.0 sq ft</td>
                        </tr>
                        <tr>
                            <td>Average Coverage</td>
                            <td>100.0%</td>
                            <td style="color: #28a745;">+35.0%</td>
                        </tr>
                        <tr>
                            <td>Running Hours</td>
                            <td>0.8 hours</td>
                            <td style="color: #dc3545;">-2.5 hrs</td>
                        </tr>
                        <tr>
                            <td>Time Efficiency</td>
                            <td>5656.3 sq ft/hr</td>
                            <td style="color: #dc3545;">-3679.2 sq ft/hr</td>
                        </tr>
                        <tr>
                            <td>Power Efficiency</td>
                            <td>17,780 sq ft/kWh</td>
                            <td style="color: #28a745;">+519.0 sq ft/kWh</td>
                        </tr>
                        <tr>
                            <td>Water Efficiency</td>
                            <td>0.0 sq ft/fl oz</td>
                            <td style="color: #6c757d;">0 sq ft/fl oz</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div>
                <h3>Marston BLDG 0043</h3>
                <p>Performance metrics for Marston BLDG 0043: 5 total tasks, 30,035 sq ft total area cleaned, 100.0% average coverage, 3733.0 sq ft/hour time efficiency, and 0.0 sq ft/fl oz water efficiency.</p>

                <table>
                    <thead>
                        <tr>
                            <th>Metric</th>
                            <th>Performance</th>
                            <th>vs Last Period</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Total Area Cleaned</td>
                            <td>30,035 sq ft</td>
                            <td style="color: #6c757d;">N/A</td>
                        </tr>
                        <tr>
                            <td>Average Coverage</td>
                            <td>100.0%</td>
                            <td style="color: #6c757d;">N/A</td>
                        </tr>
                        <tr>
                            <td>Running Hours</td>
                            <td>8.0 hours</td>
                            <td style="color: #6c757d;">N/A</td>
                        </tr>
                        <tr>
                            <td>Time Efficiency</td>
                            <td>3733.0 sq ft/hr</td>
                            <td style="color: #6c757d;">N/A</td>
                        </tr>
                        <tr>
                            <td>Power Efficiency</td>
                            <td>9,299 sq ft/kWh</td>
                            <td style="color: #6c757d;">N/A</td>
                        </tr>
                        <tr>
                            <td>Water Efficiency</td>
                            <td>0.0 sq ft/fl oz</td>
                            <td style="color: #6c757d;">N/A</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            </div>

            
                    <h3>Map-Specific Performance</h3>
                    <div class="tooltip" style="margin-bottom: 15px;">
                        <span style="color: #3498db; text-decoration: underline dotted;">How these figures are calculated</span>
                        <span class="tooltiptext">Coverage: (actual area / planned area) Ã— 100. Area Cleaned: sum of actual cleaned area converted to sq ft. Running Hours: sum of task durations converted from seconds. Power Efficiency: area cleaned / energy consumption. Time Efficiency: area cleaned / running hours. Water Efficiency: area cleaned / water consumption. Days with Tasks: unique dates when tasks occurred.</span>
                    </div>
                            <div class="map-section">
                                <h4>Building 43 Marston Science Library Maps</h4>
                                <div class="building-maps">
                                    <div style="margin: 15px 0; border: 1px solid #dee2e6; border-radius: 5px; padding: 15px;">
                                        <h5>1#0#43_Marston_Library_F1</h5>
                                        <div class="progress-container">
                                            <span>Coverage:</span>
                                            <div class="progress-bar">
                                                <div class="progress-fill" style="width: 75.0%"></div>
                                            </div>
                                            <span class="progress-text">75.0%</span>
                                            <span style="color: #dc3545; font-size: 0.8em; margin-left: 10px;">
                                                vs last: -25.0%
                                            </span>
                                        </div>

                                        <!-- First row: Existing metrics -->
                                        <div class="map-metrics">
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">30,623</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Area Cleaned (sq ft)</div>
                                                <div style="font-size: 0.7em; color: #28a745;">
                                                    vs last: +20415.0 sq ft
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">0.1</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Running Hours</div>
                                                <div style="font-size: 0.7em; color: #dc3545;">
                                                    vs last: -1.7 hrs
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">414440</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Time Efficiency (sq ft/hr)</div>
                                                <div style="font-size: 0.7em; color: #28a745;">
                                                    vs last: +408922.3 sq ft/hr
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">17908</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Power Efficiency (sq ft/kWh)</div>
                                                <div style="font-size: 0.7em; color: #28a745;">
                                                    vs last: +3531.1 sq ft/kWh
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">0.0</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Water Efficiency (sq ft/fl oz)</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: 0 sq ft/fl oz
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">1</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Days with Tasks</div>
                                                <div style="font-size: 0.7em; color: #28a745;">
                                                    vs last: +0.0 days
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="margin: 15px 0; border: 1px solid #dee2e6; border-radius: 5px; padding: 15px;">
                                        <h5>2#0#43_Marston_library_2nd</h5>
                                        <div class="progress-container">
                                            <span>Coverage:</span>
                                            <div class="progress-bar">
                                                <div class="progress-fill" style="width: 37.0%"></div>
                                            </div>
                                            <span class="progress-text">37.0%</span>
                                            <span style="color: #6c757d; font-size: 0.8em; margin-left: 10px;">
                                                vs last: N/A
                                            </span>
                                        </div>

                                        <!-- First row: Existing metrics -->
                                        <div class="map-metrics">
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">2,779</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Area Cleaned (sq ft)</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">0.7</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Running Hours</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">4143</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Time Efficiency (sq ft/hr)</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">11117</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Power Efficiency (sq ft/kWh)</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">0.0</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Water Efficiency (sq ft/fl oz)</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">1</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Days with Tasks</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                            </div>
                        </div>
                            <div class="map-section">
                                <h4>DSIT BLDG 1024 Maps</h4>
                                <div class="building-maps">
                                    <div style="margin: 15px 0; border: 1px solid #dee2e6; border-radius: 5px; padding: 15px;">
                                        <h5>-1#1#Weimer_ground</h5>
                                        <div class="progress-container">
                                            <span>Coverage:</span>
                                            <div class="progress-bar">
                                                <div class="progress-fill" style="width: 100.0%"></div>
                                            </div>
                                            <span class="progress-text">100.0%</span>
                                            <span style="color: #6c757d; font-size: 0.8em; margin-left: 10px;">
                                                vs last: N/A
                                            </span>
                                        </div>

                                        <!-- First row: Existing metrics -->
                                        <div class="map-metrics">
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">1,466</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Area Cleaned (sq ft)</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">0.2</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Running Hours</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">6722</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Time Efficiency (sq ft/hr)</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">73287</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Power Efficiency (sq ft/kWh)</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">0.0</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Water Efficiency (sq ft/fl oz)</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">1</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Days with Tasks</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="margin: 15px 0; border: 1px solid #dee2e6; border-radius: 5px; padding: 15px;">
                                        <h5>3#2#WEIMER_FLOOR_3_TASK2</h5>
                                        <div class="progress-container">
                                            <span>Coverage:</span>
                                            <div class="progress-bar">
                                                <div class="progress-fill" style="width: 100.0%"></div>
                                            </div>
                                            <span class="progress-text">100.0%</span>
                                            <span style="color: #6c757d; font-size: 0.8em; margin-left: 10px;">
                                                vs last: N/A
                                            </span>
                                        </div>

                                        <!-- First row: Existing metrics -->
                                        <div class="map-metrics">
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">1,598</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Area Cleaned (sq ft)</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">0.3</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Running Hours</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">5596</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Time Efficiency (sq ft/hr)</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">15979</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Power Efficiency (sq ft/kWh)</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">0.0</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Water Efficiency (sq ft/fl oz)</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">1</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Days with Tasks</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                            </div>
                        </div>
                            <div class="map-section">
                                <h4>Harrell Building BLDG 0010 Maps</h4>
                                <div class="building-maps">
                                    <div style="margin: 15px 0; border: 1px solid #dee2e6; border-radius: 5px; padding: 15px;">
                                        <h5>3#1#Harrell_Floor_3</h5>
                                        <div class="progress-container">
                                            <span>Coverage:</span>
                                            <div class="progress-bar">
                                                <div class="progress-fill" style="width: 100.0%"></div>
                                            </div>
                                            <span class="progress-text">100.0%</span>
                                            <span style="color: #28a745; font-size: 0.8em; margin-left: 10px;">
                                                vs last: +23.9%
                                            </span>
                                        </div>

                                        <!-- First row: Existing metrics -->
                                        <div class="map-metrics">
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">4,445</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Area Cleaned (sq ft)</div>
                                                <div style="font-size: 0.7em; color: #dc3545;">
                                                    vs last: -22624.0 sq ft
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">0.8</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Running Hours</div>
                                                <div style="font-size: 0.7em; color: #dc3545;">
                                                    vs last: -2.2 hrs
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">5656</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Time Efficiency (sq ft/hr)</div>
                                                <div style="font-size: 0.7em; color: #dc3545;">
                                                    vs last: -3509.4 sq ft/hr
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">17780</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Power Efficiency (sq ft/kWh)</div>
                                                <div style="font-size: 0.7em; color: #28a745;">
                                                    vs last: +861.1 sq ft/kWh
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">0.0</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Water Efficiency (sq ft/fl oz)</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: 0 sq ft/fl oz
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">1</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Days with Tasks</div>
                                                <div style="font-size: 0.7em; color: #dc3545;">
                                                    vs last: -3.0 days
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                            </div>
                        </div>
                            <div class="map-section">
                                <h4>Marston BLDG 0043 Maps</h4>
                                <div class="building-maps">
                                    <div style="margin: 15px 0; border: 1px solid #dee2e6; border-radius: 5px; padding: 15px;">
                                        <h5>3#0#marston_3rd_floor</h5>
                                        <div class="progress-container">
                                            <span>Coverage:</span>
                                            <div class="progress-bar">
                                                <div class="progress-fill" style="width: 100.0%"></div>
                                            </div>
                                            <span class="progress-text">100.0%</span>
                                            <span style="color: #6c757d; font-size: 0.8em; margin-left: 10px;">
                                                vs last: N/A
                                            </span>
                                        </div>

                                        <!-- First row: Existing metrics -->
                                        <div class="map-metrics">
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">18,929</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Area Cleaned (sq ft)</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">5.2</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Running Hours</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">3674</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Time Efficiency (sq ft/hr)</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">9189</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Power Efficiency (sq ft/kWh)</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">0.0</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Water Efficiency (sq ft/fl oz)</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">3</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Days with Tasks</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="margin: 15px 0; border: 1px solid #dee2e6; border-radius: 5px; padding: 15px;">
                                        <h5>4#0#marston_4th_floor</h5>
                                        <div class="progress-container">
                                            <span>Coverage:</span>
                                            <div class="progress-bar">
                                                <div class="progress-fill" style="width: 100.0%"></div>
                                            </div>
                                            <span class="progress-text">100.0%</span>
                                            <span style="color: #6c757d; font-size: 0.8em; margin-left: 10px;">
                                                vs last: N/A
                                            </span>
                                        </div>

                                        <!-- First row: Existing metrics -->
                                        <div class="map-metrics">
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">11,107</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Area Cleaned (sq ft)</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">2.9</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Running Hours</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">3838</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Time Efficiency (sq ft/hr)</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">9493</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Power Efficiency (sq ft/kWh)</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">0.0</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Water Efficiency (sq ft/fl oz)</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                            <div class="map-metric">
                                                <div style="font-weight: bold;">2</div>
                                                <div style="font-size: 0.8em; color: #6c757d;">Days with Tasks</div>
                                                <div style="font-size: 0.7em; color: #6c757d;">
                                                    vs last: N/A
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                            </div>
                        </div>
        </section>
        <section id="resource-utilization">
            <h2>âš¡ Resource Utilization & Efficiency</h2>
            <h3>Resource Performance</h3>
            <p>Resource utilization: 5.60 kWh total energy consumption, 0 fl oz total water usage, 12760 sq ft per kWh energy efficiency, and 0 sq ft per gallon water efficiency.</p>

            
            <div class="chart-container">
                <div class="chart-toggle-container">
                    <button class="chart-toggle-btn" onclick="toggleResourceView()" id="resourceToggle">
                        View Weekly Trend
                    </button>
                </div>
                <canvas id="resourceChart"></canvas>
            </div>
            

            
            <div class="two-column">
                <div>
                    <h4>Energy Usage by Facility</h4>
                    <ul><li><strong>Building 43 Marston Science Library:</strong> 2.0 kWh
                    <span style="color: #dc3545;">
                        (vs last: +1.3 kWh)
                    </span>
                </li><li><strong>DSIT BLDG 1024:</strong> 0.1 kWh
                    <span style="color: #dc3545;">
                        (vs last: +0.1 kWh)
                    </span>
                </li><li><strong>Harrell Building BLDG 0010:</strong> 0.2 kWh
                    <span style="color: #28a745;">
                        (vs last: -1.6 kWh)
                    </span>
                </li><li><strong>Marston BLDG 0043:</strong> 3.2 kWh
                    <span style="color: #6c757d;">
                        (vs last: N/A)
                    </span>
                </li>
                    </ul>
                </div>
                <div>
                    <h4>Water Usage by Facility</h4>
                    <ul><li><strong>Building 43 Marston Science Library:</strong> 0 fl oz
                    <span style="color: #6c757d;">
                        (vs last: 0 fl oz)
                    </span>
                </li><li><strong>DSIT BLDG 1024:</strong> 0 fl oz
                    <span style="color: #28a745;">
                        (vs last: -62.0 fl oz)
                    </span>
                </li><li><strong>Harrell Building BLDG 0010:</strong> 0 fl oz
                    <span style="color: #6c757d;">
                        (vs last: 0 fl oz)
                    </span>
                </li><li><strong>Marston BLDG 0043:</strong> 0 fl oz
                    <span style="color: #6c757d;">
                        (vs last: N/A)
                    </span>
                </li>
                    </ul>
                </div>
            </div>

            
                <h3>ðŸ¤– Robot Health & Utilization Analysis</h3>
                <p>Comprehensive health and utilization metrics for each robot, including uptime/downtime analysis and component-level health scores.</p>
                <div style="margin: 20px 0;">
                
                    <div style="background: #f8f9fa; border-radius: 8px; padding: 25px; margin: 20px 0; border-left: 4px solid #28a745;">
                        <h4 style="margin-top: 0; color: #2c3e50;">
                            Robot 811135422060257 (811135422060257) -
                            <span style="color: #28a745;">Health Score: 91.1 (Excellent)</span> |
                            <span style="color: #3498db;">Utilization: 4.8%</span>
                        </h4>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 20px;">
                            <!-- Left side: Health radar and components -->
                            <div>
                                <h5 style="color: #2c3e50; margin-bottom: 15px;">Health Score Breakdown</h5>
                    
                                <div class="health-details" style="margin-top: 0;">
                        
                                    <div class="health-component">
                                        <span class="health-component-label tooltip">Availability
                                            <span class="tooltiptext">Percentage of time robot is online and available (weight: 40%)</span>
                                        </span>
                                        <div class="health-component-bar">
                                            <div class="health-component-fill health-excellent" style="width: 100.0%"></div>
                                        </div>
                                        <span class="health-component-value">100.0</span>
                                    </div>
                                
                                    <div class="health-component">
                                        <span class="health-component-label tooltip">Task Success
                                            <span class="tooltiptext">Percentage of successfully completed tasks (weight: 20%)</span>
                                        </span>
                                        <div class="health-component-bar">
                                            <div class="health-component-fill health-excellent" style="width: 100.0%"></div>
                                        </div>
                                        <span class="health-component-value">100.0</span>
                                    </div>
                                
                                    <div class="health-component">
                                        <span class="health-component-label tooltip">Efficiency
                                            <span class="tooltiptext">Task efficiency score based on performance metrics (weight: 20%)</span>
                                        </span>
                                        <div class="health-component-bar">
                                            <div class="health-component-fill health-fair" style="width: 60%"></div>
                                        </div>
                                        <span class="health-component-value">60.0</span>
                                    </div>
                                
                                    <div class="health-component">
                                        <span class="health-component-label tooltip">Mode Performance
                                            <span class="tooltiptext">Performance in different cleaning modes (sweeping/scrubbing) (weight: 10%)</span>
                                        </span>
                                        <div class="health-component-bar">
                                            <div class="health-component-fill health-excellent" style="width: 100%"></div>
                                        </div>
                                        <span class="health-component-value">100.0</span>
                                    </div>
                                
                                </div>
                        
                            </div>

                            <!-- Right side: Utilization charts -->
                            <div>
                                <h5 style="color: #2c3e50; margin-bottom: 15px;">Time Distribution Analysis</h5>

                                <!-- Uptime vs Downtime Chart -->
                                <div style="background: white; border-radius: 8px; padding: 15px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); height: 150px;">
                                    <h6 style="margin: 0 0 10px 0; color: #495057; font-size: 0.9em;">Uptime vs Downtime</h6>
                                    <div style="height: 100px; position: relative;">
                                        <canvas id="uptimeChart_811135422060257"></canvas>
                                    </div>
                                </div>

                                <!-- Working vs Idle vs Charging Chart -->
                                <div style="background: white; border-radius: 8px; padding: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); height: 170px;">
                                    <h6 style="margin: 0 0 10px 0; color: #495057; font-size: 0.9em;">Working vs Idle vs Charging</h6>
                                    <div style="height: 120px; position: relative;">
                                        <canvas id="workingIdleChart_811135422060257"></canvas>
                                    </div>
                                </div>

                                <!-- Time metrics summary -->
                                <div style="margin-top: 15px; padding: 15px; background: #e9ecef; border-radius: 5px;">
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 0.9em;">
                                        <div><strong>Uptime:</strong> 167.9 hrs (100.0%)</div>
                                        <div><strong>Downtime:</strong> 0.1 hrs (0.0%)</div>
                                        <div><strong>Working:</strong> 8.0 hrs (4.8%)</div>
                                        <div><strong>Idle:</strong> 159.9 hrs (95.2%)</div>
                                        <div><strong>Charging:</strong> 0.0 hrs (0.0%)</div>
                                        <div><strong>Utilization:</strong> 4.8%</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: #f8f9fa; border-radius: 8px; padding: 25px; margin: 20px 0; border-left: 4px solid #17a2b8;">
                        <h4 style="margin-top: 0; color: #2c3e50;">
                            Robot 811135422060228 (Building_43_Marston_Library) -
                            <span style="color: #17a2b8;">Health Score: 86.6 (Good)</span> |
                            <span style="color: #3498db;">Utilization: 2.9%</span>
                        </h4>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 20px;">
                            <!-- Left side: Health radar and components -->
                            <div>
                                <h5 style="color: #2c3e50; margin-bottom: 15px;">Health Score Breakdown</h5>
                    
                                <div class="health-details" style="margin-top: 0;">
                        
                                    <div class="health-component">
                                        <span class="health-component-label tooltip">Availability
                                            <span class="tooltiptext">Percentage of time robot is online and available (weight: 40%)</span>
                                        </span>
                                        <div class="health-component-bar">
                                            <div class="health-component-fill health-excellent" style="width: 100.0%"></div>
                                        </div>
                                        <span class="health-component-value">100.0</span>
                                    </div>
                                
                                    <div class="health-component">
                                        <span class="health-component-label tooltip">Task Success
                                            <span class="tooltiptext">Percentage of successfully completed tasks (weight: 20%)</span>
                                        </span>
                                        <div class="health-component-bar">
                                            <div class="health-component-fill health-poor" style="width: 40.0%"></div>
                                        </div>
                                        <span class="health-component-value">40.0</span>
                                    </div>
                                
                                    <div class="health-component">
                                        <span class="health-component-label tooltip">Efficiency
                                            <span class="tooltiptext">Task efficiency score based on performance metrics (weight: 20%)</span>
                                        </span>
                                        <div class="health-component-bar">
                                            <div class="health-component-fill health-excellent" style="width: 100%"></div>
                                        </div>
                                        <span class="health-component-value">100.0</span>
                                    </div>
                                
                                    <div class="health-component">
                                        <span class="health-component-label tooltip">Mode Performance
                                            <span class="tooltiptext">Performance in different cleaning modes (sweeping/scrubbing) (weight: 10%)</span>
                                        </span>
                                        <div class="health-component-bar">
                                            <div class="health-component-fill health-excellent" style="width: 100%"></div>
                                        </div>
                                        <span class="health-component-value">100.0</span>
                                    </div>
                                
                                </div>
                        
                            </div>

                            <!-- Right side: Utilization charts -->
                            <div>
                                <h5 style="color: #2c3e50; margin-bottom: 15px;">Time Distribution Analysis</h5>

                                <!-- Uptime vs Downtime Chart -->
                                <div style="background: white; border-radius: 8px; padding: 15px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); height: 150px;">
                                    <h6 style="margin: 0 0 10px 0; color: #495057; font-size: 0.9em;">Uptime vs Downtime</h6>
                                    <div style="height: 100px; position: relative;">
                                        <canvas id="uptimeChart_811135422060228"></canvas>
                                    </div>
                                </div>

                                <!-- Working vs Idle vs Charging Chart -->
                                <div style="background: white; border-radius: 8px; padding: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); height: 170px;">
                                    <h6 style="margin: 0 0 10px 0; color: #495057; font-size: 0.9em;">Working vs Idle vs Charging</h6>
                                    <div style="height: 120px; position: relative;">
                                        <canvas id="workingIdleChart_811135422060228"></canvas>
                                    </div>
                                </div>

                                <!-- Time metrics summary -->
                                <div style="margin-top: 15px; padding: 15px; background: #e9ecef; border-radius: 5px;">
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 0.9em;">
                                        <div><strong>Uptime:</strong> 167.9 hrs (100.0%)</div>
                                        <div><strong>Downtime:</strong> 0.1 hrs (0.0%)</div>
                                        <div><strong>Working:</strong> 5.0 hrs (2.9%)</div>
                                        <div><strong>Idle:</strong> 163.0 hrs (97.0%)</div>
                                        <div><strong>Charging:</strong> 0.0 hrs (0.0%)</div>
                                        <div><strong>Utilization:</strong> 2.9%</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: #f8f9fa; border-radius: 8px; padding: 25px; margin: 20px 0; border-left: 4px solid #28a745;">
                        <h4 style="margin-top: 0; color: #2c3e50;">
                            Robot 811135422060229 (811135422060229) -
                            <span style="color: #28a745;">Health Score: 96.6 (Excellent)</span> |
                            <span style="color: #3498db;">Utilization: 0.5%</span>
                        </h4>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 20px;">
                            <!-- Left side: Health radar and components -->
                            <div>
                                <h5 style="color: #2c3e50; margin-bottom: 15px;">Health Score Breakdown</h5>
                    
                                <div class="health-details" style="margin-top: 0;">
                        
                                    <div class="health-component">
                                        <span class="health-component-label tooltip">Availability
                                            <span class="tooltiptext">Percentage of time robot is online and available (weight: 40%)</span>
                                        </span>
                                        <div class="health-component-bar">
                                            <div class="health-component-fill health-excellent" style="width: 99.9%"></div>
                                        </div>
                                        <span class="health-component-value">99.9</span>
                                    </div>
                                
                                    <div class="health-component">
                                        <span class="health-component-label tooltip">Task Success
                                            <span class="tooltiptext">Percentage of successfully completed tasks (weight: 20%)</span>
                                        </span>
                                        <div class="health-component-bar">
                                            <div class="health-component-fill health-excellent" style="width: 100.0%"></div>
                                        </div>
                                        <span class="health-component-value">100.0</span>
                                    </div>
                                
                                    <div class="health-component">
                                        <span class="health-component-label tooltip">Efficiency
                                            <span class="tooltiptext">Task efficiency score based on performance metrics (weight: 20%)</span>
                                        </span>
                                        <div class="health-component-bar">
                                            <div class="health-component-fill health-good" style="width: 85%"></div>
                                        </div>
                                        <span class="health-component-value">85.0</span>
                                    </div>
                                
                                    <div class="health-component">
                                        <span class="health-component-label tooltip">Mode Performance
                                            <span class="tooltiptext">Performance in different cleaning modes (sweeping/scrubbing) (weight: 10%)</span>
                                        </span>
                                        <div class="health-component-bar">
                                            <div class="health-component-fill health-excellent" style="width: 100%"></div>
                                        </div>
                                        <span class="health-component-value">100.0</span>
                                    </div>
                                
                                </div>
                        
                            </div>

                            <!-- Right side: Utilization charts -->
                            <div>
                                <h5 style="color: #2c3e50; margin-bottom: 15px;">Time Distribution Analysis</h5>

                                <!-- Uptime vs Downtime Chart -->
                                <div style="background: white; border-radius: 8px; padding: 15px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); height: 150px;">
                                    <h6 style="margin: 0 0 10px 0; color: #495057; font-size: 0.9em;">Uptime vs Downtime</h6>
                                    <div style="height: 100px; position: relative;">
                                        <canvas id="uptimeChart_811135422060229"></canvas>
                                    </div>
                                </div>

                                <!-- Working vs Idle vs Charging Chart -->
                                <div style="background: white; border-radius: 8px; padding: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); height: 170px;">
                                    <h6 style="margin: 0 0 10px 0; color: #495057; font-size: 0.9em;">Working vs Idle vs Charging</h6>
                                    <div style="height: 120px; position: relative;">
                                        <canvas id="workingIdleChart_811135422060229"></canvas>
                                    </div>
                                </div>

                                <!-- Time metrics summary -->
                                <div style="margin-top: 15px; padding: 15px; background: #e9ecef; border-radius: 5px;">
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 0.9em;">
                                        <div><strong>Uptime:</strong> 167.9 hrs (99.9%)</div>
                                        <div><strong>Downtime:</strong> 0.1 hrs (0.1%)</div>
                                        <div><strong>Working:</strong> 0.8 hrs (0.5%)</div>
                                        <div><strong>Idle:</strong> 145.6 hrs (86.7%)</div>
                                        <div><strong>Charging:</strong> 21.5 hrs (12.8%)</div>
                                        <div><strong>Utilization:</strong> 0.5%</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: #f8f9fa; border-radius: 8px; padding: 25px; margin: 20px 0; border-left: 4px solid #28a745;">
                        <h4 style="margin-top: 0; color: #2c3e50;">
                            Robot 811135422060253 (811135422060253) -
                            <span style="color: #28a745;">Health Score: 96.6 (Excellent)</span> |
                            <span style="color: #3498db;">Utilization: 0.3%</span>
                        </h4>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 20px;">
                            <!-- Left side: Health radar and components -->
                            <div>
                                <h5 style="color: #2c3e50; margin-bottom: 15px;">Health Score Breakdown</h5>
                    
                                <div class="health-details" style="margin-top: 0;">
                        
                                    <div class="health-component">
                                        <span class="health-component-label tooltip">Availability
                                            <span class="tooltiptext">Percentage of time robot is online and available (weight: 40%)</span>
                                        </span>
                                        <div class="health-component-bar">
                                            <div class="health-component-fill health-excellent" style="width: 100.0%"></div>
                                        </div>
                                        <span class="health-component-value">100.0</span>
                                    </div>
                                
                                    <div class="health-component">
                                        <span class="health-component-label tooltip">Task Success
                                            <span class="tooltiptext">Percentage of successfully completed tasks (weight: 20%)</span>
                                        </span>
                                        <div class="health-component-bar">
                                            <div class="health-component-fill health-excellent" style="width: 100.0%"></div>
                                        </div>
                                        <span class="health-component-value">100.0</span>
                                    </div>
                                
                                    <div class="health-component">
                                        <span class="health-component-label tooltip">Efficiency
                                            <span class="tooltiptext">Task efficiency score based on performance metrics (weight: 20%)</span>
                                        </span>
                                        <div class="health-component-bar">
                                            <div class="health-component-fill health-good" style="width: 85%"></div>
                                        </div>
                                        <span class="health-component-value">85.0</span>
                                    </div>
                                
                                    <div class="health-component">
                                        <span class="health-component-label tooltip">Mode Performance
                                            <span class="tooltiptext">Performance in different cleaning modes (sweeping/scrubbing) (weight: 10%)</span>
                                        </span>
                                        <div class="health-component-bar">
                                            <div class="health-component-fill health-excellent" style="width: 100%"></div>
                                        </div>
                                        <span class="health-component-value">100.0</span>
                                    </div>
                                
                                </div>
                        
                            </div>

                            <!-- Right side: Utilization charts -->
                            <div>
                                <h5 style="color: #2c3e50; margin-bottom: 15px;">Time Distribution Analysis</h5>

                                <!-- Uptime vs Downtime Chart -->
                                <div style="background: white; border-radius: 8px; padding: 15px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); height: 150px;">
                                    <h6 style="margin: 0 0 10px 0; color: #495057; font-size: 0.9em;">Uptime vs Downtime</h6>
                                    <div style="height: 100px; position: relative;">
                                        <canvas id="uptimeChart_811135422060253"></canvas>
                                    </div>
                                </div>

                                <!-- Working vs Idle vs Charging Chart -->
                                <div style="background: white; border-radius: 8px; padding: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); height: 170px;">
                                    <h6 style="margin: 0 0 10px 0; color: #495057; font-size: 0.9em;">Working vs Idle vs Charging</h6>
                                    <div style="height: 120px; position: relative;">
                                        <canvas id="workingIdleChart_811135422060253"></canvas>
                                    </div>
                                </div>

                                <!-- Time metrics summary -->
                                <div style="margin-top: 15px; padding: 15px; background: #e9ecef; border-radius: 5px;">
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 0.9em;">
                                        <div><strong>Uptime:</strong> 167.9 hrs (100.0%)</div>
                                        <div><strong>Downtime:</strong> 0.1 hrs (0.0%)</div>
                                        <div><strong>Working:</strong> 0.5 hrs (0.3%)</div>
                                        <div><strong>Idle:</strong> 167.4 hrs (99.7%)</div>
                                        <div><strong>Charging:</strong> 0.0 hrs (0.0%)</div>
                                        <div><strong>Utilization:</strong> 0.3%</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: #f8f9fa; border-radius: 8px; padding: 25px; margin: 20px 0; border-left: 4px solid #28a745;">
                        <h4 style="margin-top: 0; color: #2c3e50;">
                            Robot 811135422060211 (811135422060211) -
                            <span style="color: #28a745;">Health Score: 100.0 (Excellent)</span> |
                            <span style="color: #3498db;">Utilization: 0.0%</span>
                        </h4>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 20px;">
                            <!-- Left side: Health radar and components -->
                            <div>
                                <h5 style="color: #2c3e50; margin-bottom: 15px;">Health Score Breakdown</h5>
                    
                                <div class="health-details" style="margin-top: 0;">
                        
                                    <div class="health-component">
                                        <span class="health-component-label tooltip">Availability
                                            <span class="tooltiptext">Percentage of time robot is online and available (weight: 40%)</span>
                                        </span>
                                        <div class="health-component-bar">
                                            <div class="health-component-fill health-excellent" style="width: 100.0%"></div>
                                        </div>
                                        <span class="health-component-value">100.0</span>
                                    </div>
                                
                                </div>
                        
                            </div>

                            <!-- Right side: Utilization charts -->
                            <div>
                                <h5 style="color: #2c3e50; margin-bottom: 15px;">Time Distribution Analysis</h5>

                                <!-- Uptime vs Downtime Chart -->
                                <div style="background: white; border-radius: 8px; padding: 15px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); height: 150px;">
                                    <h6 style="margin: 0 0 10px 0; color: #495057; font-size: 0.9em;">Uptime vs Downtime</h6>
                                    <div style="height: 100px; position: relative;">
                                        <canvas id="uptimeChart_811135422060211"></canvas>
                                    </div>
                                </div>

                                <!-- Working vs Idle vs Charging Chart -->
                                <div style="background: white; border-radius: 8px; padding: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); height: 170px;">
                                    <h6 style="margin: 0 0 10px 0; color: #495057; font-size: 0.9em;">Working vs Idle vs Charging</h6>
                                    <div style="height: 120px; position: relative;">
                                        <canvas id="workingIdleChart_811135422060211"></canvas>
                                    </div>
                                </div>

                                <!-- Time metrics summary -->
                                <div style="margin-top: 15px; padding: 15px; background: #e9ecef; border-radius: 5px;">
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 0.9em;">
                                        <div><strong>Uptime:</strong> 167.9 hrs (100.0%)</div>
                                        <div><strong>Downtime:</strong> 0.1 hrs (0.0%)</div>
                                        <div><strong>Working:</strong> 0.0 hrs (0.0%)</div>
                                        <div><strong>Idle:</strong> 167.9 hrs (100.0%)</div>
                                        <div><strong>Charging:</strong> 0.0 hrs (0.0%)</div>
                                        <div><strong>Utilization:</strong> 0.0%</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: #f8f9fa; border-radius: 8px; padding: 25px; margin: 20px 0; border-left: 4px solid #28a745;">
                        <h4 style="margin-top: 0; color: #2c3e50;">
                            Robot 811135422060216 (Building_205_Dental_Science) -
                            <span style="color: #28a745;">Health Score: 100.0 (Excellent)</span> |
                            <span style="color: #3498db;">Utilization: 0.0%</span>
                        </h4>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 20px;">
                            <!-- Left side: Health radar and components -->
                            <div>
                                <h5 style="color: #2c3e50; margin-bottom: 15px;">Health Score Breakdown</h5>
                    
                                <div class="health-details" style="margin-top: 0;">
                        
                                    <div class="health-component">
                                        <span class="health-component-label tooltip">Availability
                                            <span class="tooltiptext">Percentage of time robot is online and available (weight: 40%)</span>
                                        </span>
                                        <div class="health-component-bar">
                                            <div class="health-component-fill health-excellent" style="width: 100.0%"></div>
                                        </div>
                                        <span class="health-component-value">100.0</span>
                                    </div>
                                
                                </div>
                        
                            </div>

                            <!-- Right side: Utilization charts -->
                            <div>
                                <h5 style="color: #2c3e50; margin-bottom: 15px;">Time Distribution Analysis</h5>

                                <!-- Uptime vs Downtime Chart -->
                                <div style="background: white; border-radius: 8px; padding: 15px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); height: 150px;">
                                    <h6 style="margin: 0 0 10px 0; color: #495057; font-size: 0.9em;">Uptime vs Downtime</h6>
                                    <div style="height: 100px; position: relative;">
                                        <canvas id="uptimeChart_811135422060216"></canvas>
                                    </div>
                                </div>

                                <!-- Working vs Idle vs Charging Chart -->
                                <div style="background: white; border-radius: 8px; padding: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); height: 170px;">
                                    <h6 style="margin: 0 0 10px 0; color: #495057; font-size: 0.9em;">Working vs Idle vs Charging</h6>
                                    <div style="height: 120px; position: relative;">
                                        <canvas id="workingIdleChart_811135422060216"></canvas>
                                    </div>
                                </div>

                                <!-- Time metrics summary -->
                                <div style="margin-top: 15px; padding: 15px; background: #e9ecef; border-radius: 5px;">
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 0.9em;">
                                        <div><strong>Uptime:</strong> 167.9 hrs (100.0%)</div>
                                        <div><strong>Downtime:</strong> 0.1 hrs (0.0%)</div>
                                        <div><strong>Working:</strong> 0.0 hrs (0.0%)</div>
                                        <div><strong>Idle:</strong> 167.9 hrs (100.0%)</div>
                                        <div><strong>Charging:</strong> 0.0 hrs (0.0%)</div>
                                        <div><strong>Utilization:</strong> 0.0%</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: #f8f9fa; border-radius: 8px; padding: 25px; margin: 20px 0; border-left: 4px solid #28a745;">
                        <h4 style="margin-top: 0; color: #2c3e50;">
                            Robot 811135422060223 (Vet Academic Building 1017) -
                            <span style="color: #28a745;">Health Score: 99.9 (Excellent)</span> |
                            <span style="color: #3498db;">Utilization: 0.0%</span>
                        </h4>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 20px;">
                            <!-- Left side: Health radar and components -->
                            <div>
                                <h5 style="color: #2c3e50; margin-bottom: 15px;">Health Score Breakdown</h5>
                    
                                <div class="health-details" style="margin-top: 0;">
                        
                                    <div class="health-component">
                                        <span class="health-component-label tooltip">Availability
                                            <span class="tooltiptext">Percentage of time robot is online and available (weight: 40%)</span>
                                        </span>
                                        <div class="health-component-bar">
                                            <div class="health-component-fill health-excellent" style="width: 99.9%"></div>
                                        </div>
                                        <span class="health-component-value">99.9</span>
                                    </div>
                                
                                </div>
                        
                            </div>

                            <!-- Right side: Utilization charts -->
                            <div>
                                <h5 style="color: #2c3e50; margin-bottom: 15px;">Time Distribution Analysis</h5>

                                <!-- Uptime vs Downtime Chart -->
                                <div style="background: white; border-radius: 8px; padding: 15px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); height: 150px;">
                                    <h6 style="margin: 0 0 10px 0; color: #495057; font-size: 0.9em;">Uptime vs Downtime</h6>
                                    <div style="height: 100px; position: relative;">
                                        <canvas id="uptimeChart_811135422060223"></canvas>
                                    </div>
                                </div>

                                <!-- Working vs Idle vs Charging Chart -->
                                <div style="background: white; border-radius: 8px; padding: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); height: 170px;">
                                    <h6 style="margin: 0 0 10px 0; color: #495057; font-size: 0.9em;">Working vs Idle vs Charging</h6>
                                    <div style="height: 120px; position: relative;">
                                        <canvas id="workingIdleChart_811135422060223"></canvas>
                                    </div>
                                </div>

                                <!-- Time metrics summary -->
                                <div style="margin-top: 15px; padding: 15px; background: #e9ecef; border-radius: 5px;">
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 0.9em;">
                                        <div><strong>Uptime:</strong> 167.9 hrs (99.9%)</div>
                                        <div><strong>Downtime:</strong> 0.1 hrs (0.1%)</div>
                                        <div><strong>Working:</strong> 0.0 hrs (0.0%)</div>
                                        <div><strong>Idle:</strong> 167.9 hrs (99.9%)</div>
                                        <div><strong>Charging:</strong> 0.0 hrs (0.0%)</div>
                                        <div><strong>Utilization:</strong> 0.0%</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: #f8f9fa; border-radius: 8px; padding: 25px; margin: 20px 0; border-left: 4px solid #28a745;">
                        <h4 style="margin-top: 0; color: #2c3e50;">
                            Robot 811135422060226 (811135422060226) -
                            <span style="color: #28a745;">Health Score: 100.0 (Excellent)</span> |
                            <span style="color: #3498db;">Utilization: 0.0%</span>
                        </h4>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 20px;">
                            <!-- Left side: Health radar and components -->
                            <div>
                                <h5 style="color: #2c3e50; margin-bottom: 15px;">Health Score Breakdown</h5>
                    
                                <div class="health-details" style="margin-top: 0;">
                        
                                    <div class="health-component">
                                        <span class="health-component-label tooltip">Availability
                                            <span class="tooltiptext">Percentage of time robot is online and available (weight: 40%)</span>
                                        </span>
                                        <div class="health-component-bar">
                                            <div class="health-component-fill health-excellent" style="width: 100.0%"></div>
                                        </div>
                                        <span class="health-component-value">100.0</span>
                                    </div>
                                
                                </div>
                        
                            </div>

                            <!-- Right side: Utilization charts -->
                            <div>
                                <h5 style="color: #2c3e50; margin-bottom: 15px;">Time Distribution Analysis</h5>

                                <!-- Uptime vs Downtime Chart -->
                                <div style="background: white; border-radius: 8px; padding: 15px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); height: 150px;">
                                    <h6 style="margin: 0 0 10px 0; color: #495057; font-size: 0.9em;">Uptime vs Downtime</h6>
                                    <div style="height: 100px; position: relative;">
                                        <canvas id="uptimeChart_811135422060226"></canvas>
                                    </div>
                                </div>

                                <!-- Working vs Idle vs Charging Chart -->
                                <div style="background: white; border-radius: 8px; padding: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); height: 170px;">
                                    <h6 style="margin: 0 0 10px 0; color: #495057; font-size: 0.9em;">Working vs Idle vs Charging</h6>
                                    <div style="height: 120px; position: relative;">
                                        <canvas id="workingIdleChart_811135422060226"></canvas>
                                    </div>
                                </div>

                                <!-- Time metrics summary -->
                                <div style="margin-top: 15px; padding: 15px; background: #e9ecef; border-radius: 5px;">
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 0.9em;">
                                        <div><strong>Uptime:</strong> 167.9 hrs (100.0%)</div>
                                        <div><strong>Downtime:</strong> 0.1 hrs (0.0%)</div>
                                        <div><strong>Working:</strong> 0.0 hrs (0.0%)</div>
                                        <div><strong>Idle:</strong> 167.2 hrs (99.5%)</div>
                                        <div><strong>Charging:</strong> 0.7 hrs (0.4%)</div>
                                        <div><strong>Utilization:</strong> 0.0%</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: #f8f9fa; border-radius: 8px; padding: 25px; margin: 20px 0; border-left: 4px solid #28a745;">
                        <h4 style="margin-top: 0; color: #2c3e50;">
                            Robot 811135422060244 (811135422060244) -
                            <span style="color: #28a745;">Health Score: 100.0 (Excellent)</span> |
                            <span style="color: #3498db;">Utilization: 0.0%</span>
                        </h4>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 20px;">
                            <!-- Left side: Health radar and components -->
                            <div>
                                <h5 style="color: #2c3e50; margin-bottom: 15px;">Health Score Breakdown</h5>
                    
                                <div class="health-details" style="margin-top: 0;">
                        
                                    <div class="health-component">
                                        <span class="health-component-label tooltip">Availability
                                            <span class="tooltiptext">Percentage of time robot is online and available (weight: 40%)</span>
                                        </span>
                                        <div class="health-component-bar">
                                            <div class="health-component-fill health-excellent" style="width: 100.0%"></div>
                                        </div>
                                        <span class="health-component-value">100.0</span>
                                    </div>
                                
                                </div>
                        
                            </div>

                            <!-- Right side: Utilization charts -->
                            <div>
                                <h5 style="color: #2c3e50; margin-bottom: 15px;">Time Distribution Analysis</h5>

                                <!-- Uptime vs Downtime Chart -->
                                <div style="background: white; border-radius: 8px; padding: 15px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); height: 150px;">
                                    <h6 style="margin: 0 0 10px 0; color: #495057; font-size: 0.9em;">Uptime vs Downtime</h6>
                                    <div style="height: 100px; position: relative;">
                                        <canvas id="uptimeChart_811135422060244"></canvas>
                                    </div>
                                </div>

                                <!-- Working vs Idle vs Charging Chart -->
                                <div style="background: white; border-radius: 8px; padding: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); height: 170px;">
                                    <h6 style="margin: 0 0 10px 0; color: #495057; font-size: 0.9em;">Working vs Idle vs Charging</h6>
                                    <div style="height: 120px; position: relative;">
                                        <canvas id="workingIdleChart_811135422060244"></canvas>
                                    </div>
                                </div>

                                <!-- Time metrics summary -->
                                <div style="margin-top: 15px; padding: 15px; background: #e9ecef; border-radius: 5px;">
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 0.9em;">
                                        <div><strong>Uptime:</strong> 167.9 hrs (100.0%)</div>
                                        <div><strong>Downtime:</strong> 0.1 hrs (0.0%)</div>
                                        <div><strong>Working:</strong> 0.0 hrs (0.0%)</div>
                                        <div><strong>Idle:</strong> 167.9 hrs (99.9%)</div>
                                        <div><strong>Charging:</strong> 0.0 hrs (0.0%)</div>
                                        <div><strong>Utilization:</strong> 0.0%</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                </div>
                
        </section>
        <section id="financial-performance">
            <h2>ðŸ’° Financial Performance</h2>

            <p>Financial analysis based on actual resource usage: $0.00/sq ft average cost per square foot, $0.00 total operational cost, 8.9 hours saved compared to manual cleaning, and $221.70 in realized savings.</p>

            <table>
                <thead>
                    <tr>
                        <th>Operational Metric</th>
                        <th>Value</th>
                        <th>vs Previous Period</th>
                        <th>Notes</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Cost per Sq Ft</td>
                        <td>$0.00/sq ft</td>
                        <td style="color: None;">0</td>
                        <td>Operational efficiency (water + energy cost per area)</td>
                    </tr>
                    <tr>
                        <td>Total Operational Cost</td>
                        <td>$0.00</td>
                        <td style="color: None;">0</td>
                        <td>Robot operational cost this period</td>
                    </tr>
                    <tr>
                        <td>ROI</td>
                        <td>23.6%</td>
                        <td style="color: #28a745;">+0.6%</td>
                        <td>Return on Investment (cumulative savings Ã· total investment Ã— 100)</td>
                    </tr>
                    <tr>
                        <td>Total Investment</td>
                        <td>$33,000.00</td>
                        <td style="color: #6c757d;">N/A</td>
                        <td>Cumulative lease investment ($1500/month per robot)</td>
                    </tr>
                    <tr>
                        <td>Cost Efficiency Improvement</td>
                        <td>100.0%</td>
                        <td style="color: #28a745;">+0.0%</td>
                        <td>Efficiency improvement vs manual cleaning</td>
                    </tr>
                    <tr>
                        <td>Water Cost</td>
                        <td>$0.00</td>
                        <td style="color: None;">0</td>
                        <td>Water resource cost component</td>
                    </tr>
                    <tr>
                        <td>Energy Cost</td>
                        <td>$0.00</td>
                        <td style="color: None;">0</td>
                        <td>Energy resource cost component</td>
                    </tr>
                </tbody>
            </table>
            <div style="background: #f8f9fa; padding: 15px; border-radius: 5px; margin: 15px 0; border-left: 4px solid #17a2b8;">
                <h4 style="color: #17a2b8; margin-top: 0;">ðŸ’¡ ROI Calculation Method</h4>
                <p><strong>ROI Formula:</strong> Cumulative Savings Ã· Total Investment Ã— 100</p>
                <p><strong>Investment:</strong> $1,500/month per robot Ã— months elapsed (rounded up for billing)</p>
                <p><strong>Cumulative Savings:</strong> All-time savings from first robot task to end of reporting period</p>
                <p><strong>Chart Note:</strong> ROI trend shows daily cumulative values (not weekly averages, as ROI is cumulative by nature)</p>
            </div>
            
            <div class="chart-container">
                <div class="chart-toggle-container">
                    <button class="chart-toggle-btn" onclick="toggleFinancialView()" id="financialToggle">
                        View Weekly Trend
                    </button>
                </div>
                <canvas id="financialChart"></canvas>
            </div>
            
            <div class="highlight-box">
                <h3 class="white-text">ðŸ’¡ Financial Impact Summary</h3>
                <div class="metrics-grid">
                    <div style="text-align: center;">
                        <div style="font-size: 1.5em; margin-bottom: 5px;"><strong>$221.70</strong></div>
                        <div>Manual Cleaning Cost</div>
                        <div style="color: #28a745; font-size: 0.8em;">
                            vs last: -67.6
                        </div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 1.5em; margin-bottom: 5px;"><strong>$221.70</strong></div>
                        <div>Savings Realized</div>
                        <div style="color: #dc3545; font-size: 0.8em;">
                            vs last: -67.6
                        </div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 1.5em; margin-bottom: 5px;"><strong>8.9 hrs</strong></div>
                        <div>Hours Saved vs Manual</div>
                        <div style="color: #28a745; font-size: 0.8em;">
                            vs last: -2.7 hrs
                        </div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 1.5em; margin-bottom: 5px;"><strong>$2,660.44</strong></div>
                        <div>Annual Projected Savings</div>
                        <div style="color: #dc3545; font-size: 0.8em;">
                            vs last: -811.3
                        </div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 1.5em; margin-bottom: 5px;"><strong>$7,802.67</strong></div>
                        <div>Cumulative Savings</div>
                        <div style="color: #28a745; font-size: 0.8em;">
                            vs last: +198.2
                        </div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 1.5em; margin-bottom: 5px;"><strong>2.1 years</strong></div>
                        <div>Payback Period</div>
                        <div style="color: #28a745; font-size: 0.8em;">
                            vs last: 0 months
                        </div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 1.5em; margin-bottom: 5px;"><strong>$1,300.45/month</strong></div>
                        <div>Monthly Savings Rate</div>
                        <div style="color: #28a745; font-size: 0.8em;">
                            vs last: +33.0
                        </div>
                    </div>
                </div>
                <p style="margin-top: 15px; font-size: 0.9em; opacity: 0.8;">
                    Financial calculations based on actual resource usage, lease model, and human cleaning speed benchmarks.
                </p>
            </div>

        </section>
        <section id="charging-performance">
            <h2>ðŸ”‹ Charging Sessions Performance</h2>

            <p>Charging patterns and battery management during the reporting period: 10 total sessions, 148.1 minutes average duration, and 3.5% average power gain per session.</p>

            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-value">10</div>
                    <div class="metric-label">Total Charging Sessions</div>
                    <div style="font-size: 0.8em; margin-top: 5px; color: #dc3545;">
                        vs last period: -13.0 sessions
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-value tooltip">148.1 min
                        <span class="tooltiptext">Average charging duration calculated from actual charging session data.</span>
                    </div>
                    <div class="metric-label">Avg Charging Duration</div>
                    <div style="font-size: 0.8em; margin-top: 5px; color: #dc3545;">
                        vs last period: -225.4 min
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-value tooltip">0.4 min
                        <span class="tooltiptext">Median charging duration from actual charging session data - represents typical session length.</span>
                    </div>
                    <div class="metric-label">Median Charging Duration</div>
                    <div style="font-size: 0.8em; margin-top: 5px; color: #dc3545;">
                        vs last period: -74.9 min
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-value tooltip">+3.5%
                        <span class="tooltiptext">Average power gain per charging session from database records.</span>
                    </div>
                    <div class="metric-label">Avg Power Gain per Session</div>
                    <div style="font-size: 0.8em; margin-top: 5px; color: #dc3545;">
                        vs last period: -16.0%
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-value tooltip">+0.0%
                        <span class="tooltiptext">Median power gain per charging session - represents typical power increase.</span>
                    </div>
                    <div class="metric-label">Median Power Gain per Session</div>
                    <div style="font-size: 0.8em; margin-top: 5px; color: #dc3545;">
                        vs last period: -1.0%
                    </div>
                </div>
            </div>
        
            <div class="chart-container">
                <div class="chart-toggle-container">
                    <button class="chart-toggle-btn" onclick="toggleChargingView()" id="chargingToggle">
                        View Weekly Trend
                    </button>
                </div>
                <canvas id="chargingChart"></canvas>
            </div>
            
            <h3>Charging Patterns by Location</h3>
            <table>
                <thead>
                    <tr>
                        <th>Location</th>
                        <th>Total Sessions</th>
                        <th>Avg Duration</th>
                        <th>Median Duration</th>
                        <th>Avg Power Gain</th>
                        <th>Median Power Gain</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Building 43 Marston Science Library</td>
                        <td>2
                            <div style="font-size: 0.7em; color: #6c757d;">
                                vs last: N/A
                            </div>
                        </td>
                        <td>0.2 min
                            <div style="font-size: 0.7em; color: #6c757d;">
                                vs last: N/A
                            </div>
                        </td>
                        <td>0.2 min
                            <div style="font-size: 0.7em; color: #6c757d;">
                                vs last: N/A
                            </div>
                        </td>
                        <td>+0.0%
                            <div style="font-size: 0.7em; color: #6c757d;">
                                vs last: N/A
                            </div>
                        </td>
                        <td>+0.0%
                            <div style="font-size: 0.7em; color: #6c757d;">
                                vs last: N/A
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>DSIT BLDG 1024</td>
                        <td>1
                            <div style="font-size: 0.7em; color: #dc3545;">
                                vs last: -1.0 sessions
                            </div>
                        </td>
                        <td>1.2 min
                            <div style="font-size: 0.7em; color: #dc3545;">
                                vs last: -1.4 min
                            </div>
                        </td>
                        <td>1.2 min
                            <div style="font-size: 0.7em; color: #dc3545;">
                                vs last: -1.4 min
                            </div>
                        </td>
                        <td>+0.0%
                            <div style="font-size: 0.7em; color: #dc3545;">
                                vs last: -1.5%
                            </div>
                        </td>
                        <td>+0.0%
                            <div style="font-size: 0.7em; color: #dc3545;">
                                vs last: -1.5%
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>HPNP (Health Prof Nursing and Pharmacy)</td>
                        <td>1
                            <div style="font-size: 0.7em; color: #6c757d;">
                                vs last: N/A
                            </div>
                        </td>
                        <td>41.5 min
                            <div style="font-size: 0.7em; color: #6c757d;">
                                vs last: N/A
                            </div>
                        </td>
                        <td>41.5 min
                            <div style="font-size: 0.7em; color: #6c757d;">
                                vs last: N/A
                            </div>
                        </td>
                        <td>+23.0%
                            <div style="font-size: 0.7em; color: #6c757d;">
                                vs last: N/A
                            </div>
                        </td>
                        <td>+23.0%
                            <div style="font-size: 0.7em; color: #6c757d;">
                                vs last: N/A
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>Harrell Building BLDG 0010</td>
                        <td>5
                            <div style="font-size: 0.7em; color: #dc3545;">
                                vs last: -2.0 sessions
                            </div>
                        </td>
                        <td>322.4 min
                            <div style="font-size: 0.7em; color: #dc3545;">
                                vs last: -18.8 min
                            </div>
                        </td>
                        <td>55.8 min
                            <div style="font-size: 0.7em; color: #28a745;">
                                vs last: +55.0 min
                            </div>
                        </td>
                        <td>+2.2%
                            <div style="font-size: 0.7em; color: #dc3545;">
                                vs last: -20.4%
                            </div>
                        </td>
                        <td>+0.0%
                            <div style="font-size: 0.7em; color: #6c757d;">
                                vs last: 0%
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>Marston BLDG 0043</td>
                        <td>1
                            <div style="font-size: 0.7em; color: #6c757d;">
                                vs last: N/A
                            </div>
                        </td>
                        <td>0.4 min
                            <div style="font-size: 0.7em; color: #6c757d;">
                                vs last: N/A
                            </div>
                        </td>
                        <td>0.4 min
                            <div style="font-size: 0.7em; color: #6c757d;">
                                vs last: N/A
                            </div>
                        </td>
                        <td>+1.0%
                            <div style="font-size: 0.7em; color: #6c757d;">
                                vs last: N/A
                            </div>
                        </td>
                        <td>+1.0%
                            <div style="font-size: 0.7em; color: #6c757d;">
                                vs last: N/A
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table></section>
        <section id="conclusion">
            <h2>ðŸŽ¯ Conclusion</h2>

            <div class="highlight-box">
                <p>2026-01-20 To 2026-01-27 (Last 7 Days) performance summary: 76.9% task completion rate across
                11.0 robot(s),
                13.0 tasks completed,
                70,945.0 sq ft cleaned,
                10.0 charging sessions,
                and 23.6% return on investment.</p>
            </div>
        </section>
        <footer style="margin-top: 50px; padding-top: 20px; border-top: 2px solid #e9ecef; text-align: center; color: #7f8c8d;">
            <p><strong>UF Report</strong><br>
            Period: 2026-01-20 to 2026-01-27 (Last 7 days)<br>
            Robots Included: 12<br>
            Generated: January 27, 2026 at 04:23 PM</p>
        </footer>
                </div>
                
    <script>
        // Store original daily data
        let originalData = {
            dates: ["01/21", "01/22", "01/23", "01/24", "01/25", "01/26", "01/27", "01/28"],
            charging_sessions: [9, 0, 0, 0, 0, 0, 1, 0],
            charging_durations: [166.6, 0, 0, 0, 0, 0, 0.2, 0],
            energy_data: [0.4, 0.8, 1.2, 1.2, 0.8, 0.8, 0.4, 0],
            water_data: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0],
            hours_saved: [7.5, 6.3, 11.9, 11.9, 10.2, 10.2, 13.0, 0.0],
            savings_data: [187.71, 157.74, 296.57, 296.57, 255.19, 255.19, 324.67, 0.0],
            roi_data: [23.0, 23.1, 23.2, 23.3, 23.4, 23.5, 23.6, 23.6]
        };

        // Store location efficiency data
        let locationEfficiencyData = {"Building 43 Marston Science Library": {"dates": ["01/21", "01/22", "01/23", "01/24", "01/25", "01/26", "01/27", "01/28"], "running_hours": [0, 0, 0, 0, 2.06, 2.01, 0.88, 0], "coverage_percentages": [0, 0, 0, 0, 50.0, 100.0, 73.3, 0]}, "DSIT BLDG 1024": {"dates": ["01/21", "01/22", "01/23", "01/24", "01/25", "01/26", "01/27", "01/28"], "running_hours": [0.5, 0, 0, 0, 0, 0, 0, 0], "coverage_percentages": [100.0, 0, 0, 0, 0, 0, 0, 0]}, "Harrell Building BLDG 0010": {"dates": ["01/21", "01/22", "01/23", "01/24", "01/25", "01/26", "01/27", "01/28"], "running_hours": [0.79, 0, 0, 0, 0, 0, 0, 0], "coverage_percentages": [100.0, 0, 0, 0, 0, 0, 0, 0]}, "Marston BLDG 0043": {"dates": ["01/21", "01/22", "01/23", "01/24", "01/25", "01/26", "01/27", "01/28"], "running_hours": [0, 1.84, 3.1, 3.1, 0, 0, 0, 0], "coverage_percentages": [0, 100.0, 100.0, 100.0, 0, 0, 0, 0]}};

        // Store chart instances
        let chartInstances = {};

        // Helper function to aggregate data by day of week
        function aggregateByDayOfWeek(dates, values) {
            const dayNames = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
            const dayTotals = new Array(7).fill(0);
            const dayCounts = new Array(7).fill(0);

            dates.forEach((dateStr, index) => {
                if (values[index] !== undefined && values[index] !== null) {
                    // Parse date (format: MM/DD)
                    const [month, day] = dateStr.split('/').map(Number);
                    const currentYear = new Date().getFullYear();
                    const date = new Date(currentYear, month - 1, day);
                    const dayOfWeek = (date.getDay() + 6) % 7; // Convert Sunday=0 to Monday=0

                    dayTotals[dayOfWeek] += values[index] || 0;
                    dayCounts[dayOfWeek]++;
                }
            });

            // Calculate averages
            const averages = dayTotals.map((total, index) =>
                dayCounts[index] > 0 ? Math.round((total / dayCounts[index]) * 100) / 100 : 0
            );

            return { labels: dayNames, data: averages };
        }

        // Common chart options for interactivity
        function getInteractiveChartOptions(yAxisTitle, y1AxisTitle) {
            return {
                responsive: true,
                maintainAspectRatio: false,
                interaction: {
                    intersect: false,
                    mode: 'index'
                },
                plugins: {
                    tooltip: {
                        enabled: true,
                        mode: 'index',
                        intersect: false,
                        backgroundColor: 'rgba(0,0,0,0.8)',
                        titleColor: 'white',
                        bodyColor: 'white',
                        borderColor: 'rgba(255,255,255,0.2)',
                        borderWidth: 1
                    },
                    legend: {
                        display: true,
                        position: 'top'
                    }
                },
                scales: {
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        title: {
                            display: true,
                            text: yAxisTitle
                        }
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        title: {
                            display: true,
                            text: y1AxisTitle
                        },
                        grid: {
                            drawOnChartArea: false,
                        },
                    }
                }
            };
        }

        // Toggle functions for global charts
        function toggleChargingView() {
            const btn = document.getElementById('chargingToggle');
            const isWeekly = btn.textContent === 'View Daily Trend';

            if (isWeekly) {
                btn.textContent = 'View Weekly Trend';
                btn.classList.remove('active');
                createChargingChart(originalData.dates, originalData.charging_sessions, originalData.charging_durations);
            } else {
                btn.textContent = 'View Daily Trend';
                btn.classList.add('active');

                const weeklySessions = aggregateByDayOfWeek(originalData.dates, originalData.charging_sessions);
                const weeklyDurations = aggregateByDayOfWeek(originalData.dates, originalData.charging_durations);

                createChargingChart(weeklySessions.labels, weeklySessions.data, weeklyDurations.data);
            }
        }

        function toggleResourceView() {
            const btn = document.getElementById('resourceToggle');
            const isWeekly = btn.textContent === 'View Daily Trend';

            if (isWeekly) {
                btn.textContent = 'View Weekly Trend';
                btn.classList.remove('active');
                createResourceChart(originalData.dates, originalData.energy_data, originalData.water_data);
            } else {
                btn.textContent = 'View Daily Trend';
                btn.classList.add('active');

                const weeklyEnergy = aggregateByDayOfWeek(originalData.dates, originalData.energy_data);
                const weeklyWater = aggregateByDayOfWeek(originalData.dates, originalData.water_data);

                createResourceChart(weeklyEnergy.labels, weeklyEnergy.data, weeklyWater.data);
            }
        }

        function toggleFinancialView() {
            const btn = document.getElementById('financialToggle');
            const isWeekly = btn.textContent === 'View Daily Trend';

            if (isWeekly) {
                btn.textContent = 'View Weekly Trend';
                btn.classList.remove('active');
                // ROI always shows daily cumulative data (no aggregation)
                createFinancialChart(
                    originalData.dates,
                    originalData.hours_saved,
                    originalData.savings_data,
                    originalData.roi_data
                );
            } else {
                btn.textContent = 'View Daily Trend';
                btn.classList.add('active');

                const weeklyHours = aggregateByDayOfWeek(originalData.dates, originalData.hours_saved);
                const weeklySavings = aggregateByDayOfWeek(originalData.dates, originalData.savings_data);

                // ROI remains daily â€” donâ€™t aggregate by day of week as it doesnâ€™t make sense
                createFinancialChart(
                    weeklyHours.labels,
                    weeklyHours.data,
                    weeklySavings.data,
                    [0, 0, 0, 0, 0, 0, 0] // ROI = 0 in weekly view
                );
            }
        }

        // Toggle function for location-specific charts
        function toggleLocationView(locationName) {
            const btn = document.getElementById(`locationToggle_${locationName}`);
            if (!btn) {
                console.error(`Button not found: locationToggle_${locationName}`);
                return;
            }

            const isWeekly = btn.textContent === 'View Daily Trend';
            const actualLocationName = locationName.replace(/_/g, ' ');
            const locationData = locationEfficiencyData[actualLocationName];

            if (!locationData || !locationData.dates || !locationData.running_hours || !locationData.coverage_percentages) {
                console.error(`Invalid data for location: ${actualLocationName}`, locationData);
                return;
            }

            if (isWeekly) {
                btn.textContent = 'View Weekly Trend';
                btn.classList.remove('active');
                createLocationChart(locationName, locationData.dates, locationData.running_hours, locationData.coverage_percentages);
            } else {
                btn.textContent = 'View Daily Trend';
                btn.classList.add('active');

                const weeklyHours = aggregateByDayOfWeek(locationData.dates, locationData.running_hours);
                const weeklyCoverage = aggregateByDayOfWeek(locationData.dates, locationData.coverage_percentages);

                createLocationChart(locationName, weeklyHours.labels, weeklyHours.data, weeklyCoverage.data);
            }
        }

        // Chart creation functions with full interactivity
        function createChargingChart(labels, sessions, durations) {
            if (chartInstances.charging) {
                chartInstances.charging.destroy();
            }

            const ctx = document.getElementById('chargingChart');
            if (ctx) {
                chartInstances.charging = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: labels.length > 0 ? labels : ['No Data'],
                        datasets: [{
                            label: 'Charging Sessions',
                            data: sessions.length > 0 ? sessions : [0],
                            backgroundColor: 'rgba(23, 162, 184, 0.6)',
                            borderColor: 'rgba(23, 162, 184, 1)',
                            borderWidth: 1,
                            yAxisID: 'y'
                        }, {
                            label: 'Avg Duration (min)',
                            data: durations.length > 0 ? durations : [0],
                            type: 'line',
                            borderColor: '#e74c3c',
                            backgroundColor: 'rgba(231, 76, 60, 0.1)',
                            tension: 0.4,
                            yAxisID: 'y1',
                            pointBackgroundColor: '#e74c3c',
                            pointBorderColor: '#e74c3c',
                            pointRadius: 4,
                            pointHoverRadius: 6
                        }]
                    },
                    options: getInteractiveChartOptions('Sessions', 'Duration (min)')
                });
            }
        }

        function createResourceChart(labels, energy, water) {
            if (chartInstances.resource) {
                chartInstances.resource.destroy();
            }

            const ctx = document.getElementById('resourceChart');
            if (ctx) {
                chartInstances.resource = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: labels.length > 0 ? labels : ['No Data'],
                        datasets: [{
                            label: 'Energy (kWh)',
                            data: energy.length > 0 ? energy : [0],
                            backgroundColor: 'rgba(231, 76, 60, 0.6)',
                            borderColor: 'rgba(231, 76, 60, 1)',
                            borderWidth: 1,
                            yAxisID: 'y'
                        }, {
                            label: 'Water (fl oz)',
                            data: water.length > 0 ? water : [0],
                            backgroundColor: 'rgba(52, 152, 219, 0.6)',
                            borderColor: 'rgba(52, 152, 219, 1)',
                            borderWidth: 1,
                            yAxisID: 'y1'
                        }]
                    },
                    options: getInteractiveChartOptions('Energy (kWh)', 'Water (fl oz)')
                });
            }
        }

        function createFinancialChart(labels, hours, savings, roi) {
            if (chartInstances.financial) {
                chartInstances.financial.destroy();
            }

            const ctx = document.getElementById('financialChart');
            if (ctx) {
                chartInstances.financial = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: labels.length > 0 ? labels : ['No Data'],
                        datasets: [{
                            label: 'Hours Saved',
                            data: hours.length > 0 ? hours : [0],
                            backgroundColor: 'rgba(40, 167, 69, 0.6)',
                            borderColor: 'rgba(40, 167, 69, 1)',
                            borderWidth: 1,
                            yAxisID: 'y'
                        }, {
                            label: 'Savings ($)',
                            data: savings.length > 0 ? savings : [0],
                            backgroundColor: 'rgba(23, 162, 184, 0.6)',
                            borderColor: 'rgba(23, 162, 184, 1)',
                            borderWidth: 1,
                            yAxisID: 'y1'
                        }, {
                            label: 'ROI (%) - Daily Cumulative',
                            data: roi.length > 0 ? roi : [0],
                            type: 'line',
                            borderColor: '#28a745',
                            backgroundColor: 'rgba(40, 167, 69, 0.1)',
                            tension: 0.4,
                            yAxisID: 'y2',
                            pointBackgroundColor: '#28a745',
                            pointBorderColor: '#28a745',
                            pointRadius: 4,
                            pointHoverRadius: 6
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        interaction: {
                            intersect: false,
                            mode: 'index'
                        },
                        plugins: {
                            tooltip: {
                                enabled: true,
                                mode: 'index',
                                intersect: false,
                                backgroundColor: 'rgba(0,0,0,0.8)',
                                titleColor: 'white',
                                bodyColor: 'white',
                                borderColor: 'rgba(255,255,255,0.2)',
                                borderWidth: 1,
                                callbacks: {
                                    afterLabel: function(context) {
                                        return context.datasetIndex === 2
                                            ? 'Cumulative ROI based on all-time data'
                                            : '';
                                    }
                                }
                            },
                            legend: {
                                display: true,
                                position: 'top'
                            }
                        },
                        scales: {
                            y: {
                                type: 'linear',
                                display: true,
                                position: 'left',
                                title: {
                                    display: true,
                                    text: 'Hours Saved'
                                }
                            },
                            y1: {
                                type: 'linear',
                                display: true,
                                position: 'right',
                                title: {
                                    display: true,
                                    text: 'Savings ($)'
                                },
                                grid: {
                                    drawOnChartArea: false
                                }
                            },
                            y2: {
                                type: 'linear',
                                display: false,
                                position: 'right',
                                title: {
                                    display: true,
                                    text: 'ROI (%)'
                                },
                                grid: {
                                    drawOnChartArea: false
                                }
                            }
                        }
                    }
                });
            }
        }

        function createLocationChart(locationName, labels, runningHours, coverage) {
            const chartKey = `taskEfficiency_${locationName}`;

            if (chartInstances[chartKey]) {
                chartInstances[chartKey].destroy();
                delete chartInstances[chartKey];
            }

            const ctx = document.getElementById(`taskEfficiencyChart_${locationName}`);
            if (!ctx) {
                console.error(`Canvas not found: taskEfficiencyChart_${locationName}`);
                return;
            }

            const validLabels = labels && labels.length > 0 ? labels : ['No Data'];
            const validHours = runningHours && runningHours.length > 0 ? runningHours : [0];
            const validCoverage = coverage && coverage.length > 0 ? coverage : [0];

            chartInstances[chartKey] = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: validLabels,
                    datasets: [{
                        label: 'Running Hours',
                        data: validHours,
                        backgroundColor: 'rgba(52, 152, 219, 0.6)',
                        borderColor: 'rgba(52, 152, 219, 1)',
                        borderWidth: 1,
                        yAxisID: 'y'
                    }, {
                        label: 'Coverage %',
                        data: validCoverage,
                        type: 'line',
                        borderColor: '#e74c3c',
                        backgroundColor: 'rgba(231, 76, 60, 0.1)',
                        tension: 0.4,
                        yAxisID: 'y1',
                        pointBackgroundColor: '#e74c3c',
                        pointBorderColor: '#e74c3c',
                        pointRadius: 4,
                        pointHoverRadius: 6
                    }]
                },
                options: getInteractiveChartOptions('Running Hours', 'Coverage %')
            });
        }

        function createLocationTaskEfficiencyCharts() {
            if (!locationEfficiencyData || Object.keys(locationEfficiencyData).length === 0) {
                console.log('No locationEfficiencyData available');
                return;
            }

            Object.keys(locationEfficiencyData).forEach(locationName => {
                const locationData = locationEfficiencyData[locationName];
                const safeName = locationName.replace(/\s+/g, '_');

                if (locationData && locationData.dates && locationData.running_hours && locationData.coverage_percentages) {
                    console.log(`Creating interactive chart for: ${locationName} (ID: ${safeName})`);
                    createLocationChart(safeName, locationData.dates, locationData.running_hours, locationData.coverage_percentages);
                } else {
                    console.error(`Invalid data structure for location: ${locationName}`, locationData);
                }
            });
        }

        // Create health score radar charts
        function createHealthRadarCharts() {
            const healthScores = {"811064412050012": {}, "811135422060211": {"robot_sn": "811135422060211", "overall_health_score": 100.0, "overall_health_rating": "Excellent", "availability_score": 100.0, "task_success_score": null, "efficiency_score": null, "mode_performance_score": null, "battery_soh_score": null, "component_scores": {"Availability": 100.0}}, "811135422060216": {"robot_sn": "811135422060216", "overall_health_score": 100.0, "overall_health_rating": "Excellent", "availability_score": 100.0, "task_success_score": null, "efficiency_score": null, "mode_performance_score": null, "battery_soh_score": null, "component_scores": {"Availability": 100.0}}, "811135422060223": {"robot_sn": "811135422060223", "overall_health_score": 99.9, "overall_health_rating": "Excellent", "availability_score": 99.9, "task_success_score": null, "efficiency_score": null, "mode_performance_score": null, "battery_soh_score": null, "component_scores": {"Availability": 99.9}}, "811135422060226": {"robot_sn": "811135422060226", "overall_health_score": 100.0, "overall_health_rating": "Excellent", "availability_score": 100.0, "task_success_score": null, "efficiency_score": null, "mode_performance_score": null, "battery_soh_score": null, "component_scores": {"Availability": 100.0}}, "811135422060228": {"robot_sn": "811135422060228", "overall_health_score": 86.6, "overall_health_rating": "Good", "availability_score": 100.0, "task_success_score": 40.0, "efficiency_score": 100, "mode_performance_score": 100, "battery_soh_score": null, "component_scores": {"Availability": 100.0, "Task Success": 40.0, "Efficiency": 100, "Mode Performance": 100}}, "811135422060229": {"robot_sn": "811135422060229", "overall_health_score": 96.6, "overall_health_rating": "Excellent", "availability_score": 99.9, "task_success_score": 100.0, "efficiency_score": 85, "mode_performance_score": 100, "battery_soh_score": null, "component_scores": {"Availability": 99.9, "Task Success": 100.0, "Efficiency": 85, "Mode Performance": 100}}, "811135422060243": {}, "811135422060244": {"robot_sn": "811135422060244", "overall_health_score": 100.0, "overall_health_rating": "Excellent", "availability_score": 100.0, "task_success_score": null, "efficiency_score": null, "mode_performance_score": null, "battery_soh_score": null, "component_scores": {"Availability": 100.0}}, "811135422060253": {"robot_sn": "811135422060253", "overall_health_score": 96.6, "overall_health_rating": "Excellent", "availability_score": 100.0, "task_success_score": 100.0, "efficiency_score": 85, "mode_performance_score": 100, "battery_soh_score": null, "component_scores": {"Availability": 100.0, "Task Success": 100.0, "Efficiency": 85, "Mode Performance": 100}}, "811135422060257": {"robot_sn": "811135422060257", "overall_health_score": 91.1, "overall_health_rating": "Excellent", "availability_score": 100.0, "task_success_score": 100.0, "efficiency_score": 60, "mode_performance_score": 100, "battery_soh_score": null, "component_scores": {"Availability": 100.0, "Task Success": 100.0, "Efficiency": 60, "Mode Performance": 100}}};

            Object.keys(healthScores).forEach(robotSn => {
                const health = healthScores[robotSn];
                const safeId = robotSn.replace(/-/g, '_');
                const ctx = document.getElementById(`healthRadar_${safeId}`);

                if (ctx && health.component_scores) {
                    new Chart(ctx, {
                        type: 'radar',
                        data: {
                            labels: Object.keys(health.component_scores),
                            datasets: [{
                                label: 'Health Score',
                                data: Object.values(health.component_scores),
                                backgroundColor: 'rgba(52, 152, 219, 0.2)',
                                borderColor: 'rgba(52, 152, 219, 1)',
                                pointBackgroundColor: 'rgba(52, 152, 219, 1)',
                                pointBorderColor: '#fff',
                                pointHoverBackgroundColor: '#fff',
                                pointHoverBorderColor: 'rgba(52, 152, 219, 1)',
                                borderWidth: 2,
                                pointRadius: 4,
                                pointHoverRadius: 6
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: true,
                            scales: {
                                r: {
                                    beginAtZero: true,
                                    max: 100,
                                    ticks: {
                                        stepSize: 20,
                                        callback: function(value) {
                                            return value;
                                        }
                                    },
                                    pointLabels: {
                                        font: {
                                            size: 11
                                        }
                                    }
                                }
                            },
                            plugins: {
                                legend: {
                                    display: false
                                },
                                tooltip: {
                                    backgroundColor: 'rgba(0,0,0,0.8)',
                                    titleColor: 'white',
                                    bodyColor: 'white',
                                    callbacks: {
                                        label: function(context) {
                                            return context.label + ': ' + context.parsed.r.toFixed(1);
                                        }
                                    }
                                }
                            }
                        }
                    });
                } else {
                    console.warn(`Health radar canvas not found or no data: healthRadar_${safeId}`);
                }
            });
        }

        // Static charts with interactivity
        const taskStatusCtx = document.getElementById('taskStatusChart');
        if (taskStatusCtx) {
            const taskStatusData = {"labels": ["Task Ended (Completed)", "Task Cancelled", "Task Interrupted"], "data": [10, 1, 1], "backgroundColor": ["#28a745", "#ffc107", "#dc3545"], "borderWidth": 2, "borderColor": "#fff"};
            new Chart(taskStatusCtx, {
                type: 'doughnut',
                data: {
                    labels: taskStatusData.labels || ['Completed', 'Cancelled', 'Interrupted'],
                    datasets: [{
                        data: taskStatusData.data || [0, 0, 0],
                        backgroundColor: taskStatusData.backgroundColor || ['#28a745', '#ffc107', '#dc3545'],
                        borderWidth: 2,
                        borderColor: '#fff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Task Status Distribution'
                        },
                        tooltip: {
                            enabled: true,
                            backgroundColor: 'rgba(0,0,0,0.8)',
                            titleColor: 'white',
                            bodyColor: 'white'
                        },
                        legend: {
                            display: true,
                            position: 'bottom'
                        }
                    }
                }
            });
        }

        const taskModeCtx = document.getElementById('taskModeChart');
        if (taskModeCtx) {
            const taskModeData = {"labels": ["Sweeping"], "data": [13], "backgroundColor": ["#3498db", "#2ecc71"], "borderWidth": 2, "borderColor": "#fff"};
            new Chart(taskModeCtx, {
                type: 'pie',
                data: {
                    labels: taskModeData.labels || ['No Data'],
                    datasets: [{
                        data: taskModeData.data || [1],
                        backgroundColor: taskModeData.backgroundColor || ['#6c757d'],
                        borderWidth: 2,
                        borderColor: '#fff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Task Mode Distribution'
                        },
                        tooltip: {
                            enabled: true,
                            backgroundColor: 'rgba(0,0,0,0.8)',
                            titleColor: 'white',
                            bodyColor: 'white'
                        },
                        legend: {
                            display: true,
                            position: 'bottom'
                        }
                    }
                }
            });
        }

        // Create uptime vs downtime charts
        function createUptimeCharts() {
             const individualRobots = [{"robot_id": "811135422060257", "robot_name": "811135422060257", "location": "Marston BLDG 0043", "total_tasks": 5, "tasks_completed": 5, "total_area_cleaned": 30035.0, "average_coverage": 100.0, "days_with_tasks": 3, "completion_rate": 100.0, "running_hours": 8.0, "avg_efficiency": 348.0, "charging_sessions": 1, "battery_level": 58, "water_level": 0, "sewage_level": 0, "uptime_hours": 167.9, "downtime_hours": 0.1, "idle_hours": 159.9, "working_hours": 8.0, "charging_hours": 0.0, "charging_ratio": 0.0, "uptime_ratio": 100.0, "working_ratio": 4.8, "idle_ratio": 95.2, "utilization_score": 4.8}, {"robot_id": "811135422060228", "robot_name": "Building_43_Marston_Library", "location": "Building 43 Marston Science Library", "total_tasks": 5, "tasks_completed": 2, "total_area_cleaned": 33402.0, "average_coverage": 69.1, "days_with_tasks": 3, "completion_rate": 40.0, "running_hours": 5.0, "avg_efficiency": 1153.7, "charging_sessions": 2, "battery_level": 100, "water_level": 0, "sewage_level": 0, "uptime_hours": 167.9, "downtime_hours": 0.1, "idle_hours": 163.0, "working_hours": 5.0, "charging_hours": 0.0, "charging_ratio": 0.0, "uptime_ratio": 100.0, "working_ratio": 2.9, "idle_ratio": 97.0, "utilization_score": 2.9}, {"robot_id": "811135422060229", "robot_name": "811135422060229", "location": "Harrell Building BLDG 0010", "total_tasks": 1, "tasks_completed": 1, "total_area_cleaned": 4445.0, "average_coverage": 100.0, "days_with_tasks": 1, "completion_rate": 100.0, "running_hours": 0.8, "avg_efficiency": 525.5, "charging_sessions": 5, "battery_level": 100, "water_level": 0, "sewage_level": 0, "uptime_hours": 167.9, "downtime_hours": 0.1, "idle_hours": 145.6, "working_hours": 0.8, "charging_hours": 21.5, "charging_ratio": 12.8, "uptime_ratio": 99.9, "working_ratio": 0.5, "idle_ratio": 86.7, "utilization_score": 0.5}, {"robot_id": "811135422060253", "robot_name": "811135422060253", "location": "DSIT BLDG 1024", "total_tasks": 2, "tasks_completed": 2, "total_area_cleaned": 3064.0, "average_coverage": 100.0, "days_with_tasks": 1, "completion_rate": 100.0, "running_hours": 0.5, "avg_efficiency": 572.2, "charging_sessions": 0, "battery_level": 54, "water_level": 0, "sewage_level": 0, "uptime_hours": 167.9, "downtime_hours": 0.1, "idle_hours": 167.4, "working_hours": 0.5, "charging_hours": 0.0, "charging_ratio": 0.0, "uptime_ratio": 100.0, "working_ratio": 0.3, "idle_ratio": 99.7, "utilization_score": 0.3}, {"robot_id": "811064412050012", "robot_name": "Dental Replacement ", "location": "Building 205 Dental Science", "total_tasks": 0, "tasks_completed": 0, "total_area_cleaned": 0, "average_coverage": 0.0, "days_with_tasks": 0, "completion_rate": 0.0, "running_hours": 0.0, "avg_efficiency": 0.0, "charging_sessions": 0, "battery_level": 0, "water_level": 75, "sewage_level": 0, "uptime_hours": 168, "downtime_hours": 0.0, "idle_hours": 168.0, "working_hours": 0.0, "charging_hours": 0.0, "charging_ratio": 0.0, "uptime_ratio": 100.0, "working_ratio": 0.0, "idle_ratio": 100.0, "utilization_score": 0.0}, {"robot_id": "811135422060211", "robot_name": "811135422060211", "location": "Communicor BLDG 0203", "total_tasks": 0, "tasks_completed": 0, "total_area_cleaned": 0, "average_coverage": 0.0, "days_with_tasks": 0, "completion_rate": 0.0, "running_hours": 0.0, "avg_efficiency": 0.0, "charging_sessions": 0, "battery_level": 0, "water_level": 100, "sewage_level": 0, "uptime_hours": 167.9, "downtime_hours": 0.1, "idle_hours": 167.9, "working_hours": 0.0, "charging_hours": 0.0, "charging_ratio": 0.0, "uptime_ratio": 100.0, "working_ratio": 0.0, "idle_ratio": 100.0, "utilization_score": 0.0}, {"robot_id": "811135422060216", "robot_name": "Building_205_Dental_Science", "location": "Building 205 Dental Science", "total_tasks": 0, "tasks_completed": 0, "total_area_cleaned": 0, "average_coverage": 0.0, "days_with_tasks": 0, "completion_rate": 0.0, "running_hours": 0.0, "avg_efficiency": 0.0, "charging_sessions": 0, "battery_level": 53, "water_level": 0, "sewage_level": 0, "uptime_hours": 167.9, "downtime_hours": 0.1, "idle_hours": 167.9, "working_hours": 0.0, "charging_hours": 0.0, "charging_ratio": 0.0, "uptime_ratio": 100.0, "working_ratio": 0.0, "idle_ratio": 100.0, "utilization_score": 0.0}, {"robot_id": "811135422060223", "robot_name": "Vet Academic Building 1017", "location": "Vet Academic BLDG 1017", "total_tasks": 0, "tasks_completed": 0, "total_area_cleaned": 0, "average_coverage": 0.0, "days_with_tasks": 0, "completion_rate": 0.0, "running_hours": 0.0, "avg_efficiency": 0.0, "charging_sessions": 0, "battery_level": 100, "water_level": 0, "sewage_level": 0, "uptime_hours": 167.9, "downtime_hours": 0.1, "idle_hours": 167.9, "working_hours": 0.0, "charging_hours": 0.0, "charging_ratio": 0.0, "uptime_ratio": 99.9, "working_ratio": 0.0, "idle_ratio": 99.9, "utilization_score": 0.0}, {"robot_id": "811135422060226", "robot_name": "811135422060226", "location": "HPNP (Health Prof Nursing and Pharmacy)", "total_tasks": 0, "tasks_completed": 0, "total_area_cleaned": 0, "average_coverage": 0.0, "days_with_tasks": 0, "completion_rate": 0.0, "running_hours": 0.0, "avg_efficiency": 0.0, "charging_sessions": 1, "battery_level": 37, "water_level": 25, "sewage_level": 0, "uptime_hours": 167.9, "downtime_hours": 0.1, "idle_hours": 167.2, "working_hours": 0.0, "charging_hours": 0.7, "charging_ratio": 0.4, "uptime_ratio": 100.0, "working_ratio": 0.0, "idle_ratio": 99.5, "utilization_score": 0.0}, {"robot_id": "811135422060243", "robot_name": "811135422060243", "location": "Vet Med BLDG 0075", "total_tasks": 0, "tasks_completed": 0, "total_area_cleaned": 0, "average_coverage": 0.0, "days_with_tasks": 0, "completion_rate": 0.0, "running_hours": 0.0, "avg_efficiency": 0.0, "charging_sessions": 0, "battery_level": 99, "water_level": 25, "sewage_level": 25, "uptime_hours": 168, "downtime_hours": 0.0, "idle_hours": 168.0, "working_hours": 0.0, "charging_hours": 0.0, "charging_ratio": 0.0, "uptime_ratio": 100.0, "working_ratio": 0.0, "idle_ratio": 100.0, "utilization_score": 0.0}, {"robot_id": "811135422060244", "robot_name": "811135422060244", "location": "DSIT BLDG 1024", "total_tasks": 0, "tasks_completed": 0, "total_area_cleaned": 0, "average_coverage": 0.0, "days_with_tasks": 0, "completion_rate": 0.0, "running_hours": 0.0, "avg_efficiency": 0.0, "charging_sessions": 1, "battery_level": 100, "water_level": 25, "sewage_level": 0, "uptime_hours": 167.9, "downtime_hours": 0.1, "idle_hours": 167.9, "working_hours": 0.0, "charging_hours": 0.0, "charging_ratio": 0.0, "uptime_ratio": 100.0, "working_ratio": 0.0, "idle_ratio": 99.9, "utilization_score": 0.0}];

            individualRobots.forEach(robot => {
                const robotId = robot.robot_id;
                const safeId = robotId.replace(/-/g, '_');

                // Uptime vs Downtime chart
                const uptimeCtx = document.getElementById(`uptimeChart_${safeId}`);
                if (uptimeCtx) {
                    new Chart(uptimeCtx, {
                        type: 'bar',
                        data: {
                            labels: ['Uptime', 'Downtime'],
                            datasets: [{
                                label: 'Hours',
                                data: [robot.uptime_hours || 0, robot.downtime_hours || 0],
                                backgroundColor: ['#28a745', '#dc3545'],
                                borderWidth: 1
                            }]
                        },
                        options: {
                            indexAxis: 'y',
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: { display: false },
                                tooltip: {
                                    callbacks: {
                                        label: function(context) {
                                            return context.label + ': ' + context.parsed.x.toFixed(1) + ' hrs';
                                        }
                                    }
                                }
                            },
                            scales: {
                                x: {
                                    beginAtZero: true,
                                    title: { display: true, text: 'Hours' }
                                }
                            }
                        }
                    });
                }

                // Working vs Idle vs Charging chart
                const workingIdleCtx = document.getElementById(`workingIdleChart_${safeId}`);
                if (workingIdleCtx) {
                    new Chart(workingIdleCtx, {
                        type: 'bar',
                        data: {
                            labels: ['Working', 'Idle', 'Charging'],
                            datasets: [{
                                label: 'Hours',
                                data: [
                                    robot.working_hours || 0,
                                    robot.idle_hours || 0,
                                    robot.charging_hours || 0
                                ],
                                backgroundColor: ['#28a745', '#ffc107', '#17a2b8'],
                                borderWidth: 1
                            }]
                        },
                        options: {
                            indexAxis: 'y',
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: { display: false },
                                tooltip: {
                                    callbacks: {
                                        label: function(context) {
                                            return context.label + ': ' + context.parsed.x.toFixed(1) + ' hrs';
                                        }
                                    }
                                }
                            },
                            scales: {
                                x: {
                                    beginAtZero: true,
                                    title: { display: true, text: 'Hours' }
                                }
                            }
                        }
                    });
                }
            });
        }

        // Initialize all charts when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Initializing all charts...');
            console.log('LocationEfficiencyData:', locationEfficiencyData);

            // Global trend charts
            createChargingChart(originalData.dates, originalData.charging_sessions, originalData.charging_durations);
            createResourceChart(originalData.dates, originalData.energy_data, originalData.water_data);
            createFinancialChart(originalData.dates, originalData.hours_saved, originalData.savings_data, originalData.roi_data);

            // Location-specific charts
            createLocationTaskEfficiencyCharts();

            // Health score radar charts
            createHealthRadarCharts();

            // Uptime and utilization charts
            createUptimeCharts();

            console.log('All charts initialized');
        });


    </script>
            </body>
            </html>